//==============================================================================
//
//  Copyright 2021 TOBESOFT Co., Ltd.
//  All Rights Reserved.
//
//  NOTICE: TOBESOFT permits you to use, modify, and distribute this file 
//          in accordance with the terms of the license agreement accompanying it.
//
//  Readme URL: http://www.nexacro.com/legal/license/tobesoft/ko/NexacroN-public-license-readme-1.1.html
//
//==============================================================================
if(!nexacro.Device||nexacro._OS=="Windows"||(nexacro._OS=="Android"&&nexacro._Browser=="Runtime")||nexacro._OS=="OSX"){if(!nexacro._init_litedb_api){nexacro._createLiteDBConnectionObject=nexacro._emptyFn;nexacro._setLiteDBConnectionHandleBusyTimeOut=nexacro._emptyFn;nexacro._setLiteDBConnectionHandleDataSource=nexacro._emptyFn;nexacro._setLiteDBConnectionHandleOpenFlag=nexacro._emptyFn;nexacro._setLiteDBConnectionHandlePreConnect=nexacro._emptyFn;nexacro._setLiteDBConnectionHandleAsync=nexacro._emptyFn;nexacro._beginLiteDBConnectionHandle=nexacro._emptyFn;nexacro._closeLiteDBConnectionHandle=nexacro._emptyFn;nexacro._commitLiteDBConnectionHandle=nexacro._emptyFn;nexacro._isConnectedLiteDBConnectionHandle=nexacro._emptyFn;nexacro._openLiteDBConnectionHandle=nexacro._emptyFn;nexacro._rollbackLiteDBConnectionHandle=nexacro._emptyFn;nexacro._createLiteDBStatementObject=nexacro._emptyFn;nexacro._setLiteDBStatementHandleQuery=nexacro._emptyFn;nexacro._setLiteDBStatementHandleldbConnection=nexacro._emptyFn;nexacro._initParamsLiteDBStatementHandle=nexacro._emptyFn;nexacro._addParamsLiteDBStatementHandle=nexacro._emptyFn;nexacro._setLiteDBStatementHandleParameter=nexacro._emptyFn;nexacro._closeLiteDBStatementHandle=nexacro._emptyFn;nexacro._executeQueryLiteDBStatementHandle=nexacro._emptyFn;nexacro._executeUpdateLiteDBStatementHandle=nexacro._emptyFn;}if(!nexacro.LiteDBEventInfo){nexacro.LiteDBEventInfo=function(_a,_b,_c){this.id=this.eventid=_a||"onerror";this.reason=_b;this.returnvalue=_c;};var _pLiteDBEventInfo=nexacro.LiteDBEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBEventInfo);_pLiteDBEventInfo._type_name="LiteDBEventInfo";delete _pLiteDBEventInfo;}if(!nexacro.LiteDBErrorEventInfo){nexacro.LiteDBErrorEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_a||"onsuccess";this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.ldberrorcode=_d;this.ldberrormsg=_e;};var _pLiteDBErrorEventInfo=nexacro.LiteDBErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBErrorEventInfo);_pLiteDBErrorEventInfo._type_name="LiteDBErrorEventInfo";delete _pLiteDBErrorEventInfo;}if(!nexacro.LiteDBConnection){nexacro.LiteDBConnection=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this._p_sqlstatement="";this._p_busytimeout=60000;this._p_openflag=1;this._p_datasource="";this._p_preconnect="false";this._p_async="true";this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;this.handle=nexacro._createLiteDBConnectionObject(this);this._openflag=1;};nexacro.LiteDBConnection.openReadWrite=0;nexacro.LiteDBConnection.openReadWriteCreate=1;var _pLiteDBConnection=nexacro.LiteDBConnection.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBConnection);_pLiteDBConnection._type_name="LiteDBConnection";_pLiteDBConnection.destroy=function(){if(this.handle){this.close();this.handle=null;}return true;};_pLiteDBConnection.set_busytimeout=function(_a){if(this.paramck_busytimeout(_a)){this._p_busytimeout=_a;nexacro._setLiteDBConnectionHandleBusyTimeOut(this,_a);return true;}else{return false;}};_pLiteDBConnection.set_datasource=function(_a){if(this.paramck_datasource(_a)){this._p_datasource=_a;nexacro._setLiteDBConnectionHandleDataSource(this,_a);if(this._p_preconnect=="true"||this._p_preconnect==true){this.open();}return true;}else{return false;}};_pLiteDBConnection.set_openflag=function(_a){if(_a=="openReadWrite"){this._p_openflag=_a;this._openflag=nexacro.LiteDBConnection.openReadWrite;}else if(_a=="openReadWriteCreate"){this._p_openflag=_a;this._openflag=nexacro.LiteDBConnection.openReadWriteCreate;}else if(_a==nexacro.LiteDBConnection.openReadWrite||_a==nexacro.LiteDBConnection.openReadWriteCreate){this._openflag=_a;this._p_openflag=_a;nexacro._setLiteDBConnectionHandleOpenFlag(this,this._openflag);return true;}else{return false;}};_pLiteDBConnection.set_preconnect=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this._p_preconnect=nexacro._toBoolean(_a);nexacro._setLiteDBConnectionHandlePreConnect(this,this._p_preconnect);if(this._p_preconnect=="true"||this._p_preconnect==true){if(this._p_datasource!=""){this.open();}}return true;}else{return false;}};_pLiteDBConnection.set_async=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this._p_async=nexacro._toBoolean(_a);nexacro._setLiteDBConnectionHandleAsync(this,this._p_async);return true;}else{return false;}};_pLiteDBConnection._properties=[{name:"sqlstatement"},{name:"busytimeout"},{name:"openflag"},{name:"datasource"},{name:"preconnect"},{name:"async"}];nexacro._defineProperties(_pLiteDBConnection,_pLiteDBConnection._properties);_pLiteDBConnection.begin=function(){if(this.handle){nexacro._beginLiteDBConnectionHandle(this);}};_pLiteDBConnection.close=function(){if(this.handle){nexacro._closeLiteDBConnectionHandle(this);}};_pLiteDBConnection.commit=function(){if(this.handle){nexacro._commitLiteDBConnectionHandle(this);}};_pLiteDBConnection.isConnected=function(){if(this.handle){nexacro._isConnectedLiteDBConnectionHandle(this);}};_pLiteDBConnection.open=function(_a,_b){if(arguments.length>=2){if(_b=="openReadWrite"){_b=nexacro.LiteDBConnection.openReadWrite;}else if(_b=="openReadWriteCreate"){_b=nexacro.LiteDBConnection.openReadWriteCreate;}nexacro._setLiteDBConnectionHandleOpenFlag(this,_b);}else{_b=this._openflag;}if(_a!=null){this.datasource=_a;nexacro._setLiteDBConnectionHandleDataSource(this,this._p_datasource);}if(this.paramck_open(this._p_datasource,_b)){nexacro._openLiteDBConnectionHandle(this,this._p_datasource,_b);}else{return false;}return true;};_pLiteDBConnection.rollback=function(){if(this.handle){nexacro._rollbackLiteDBConnectionHandle(this);}};_pLiteDBConnection.on_success=function(_a,_b){var _c=new nexacro.LiteDBEventInfo("onsuccess",_a,_b);this.on_fire_onsuccess(this,_c);};_pLiteDBConnection.on_fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBConnection.on_error=function(_a,_b,_c,_d){var _e=new nexacro.LiteDBErrorEventInfo("onerror",_a,_b,_c,_d);this.on_fire_onerror(this,_e);};_pLiteDBConnection.on_fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBConnection.paramck_busytimeout=function(_a){if(_a==null){return false;}if(!this._publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pLiteDBConnection.paramck_datasource=function(_a){if(_a==null){return false;}return true;};_pLiteDBConnection.paramck_open=function(_a,_b){if(_a==null||typeof (_a)!="string"){return false;}if(!this._publicNumCheck(_b)){return false;}return true;};_pLiteDBConnection._publicNumCheck=function(_a){var _b;var _c;try{_b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}try{_c=Number(_a.toString());}catch(e){return false;}var _d= +_c;if(_d!=_d){return false;}return true;};delete _pLiteDBConnection;}if(!nexacro.LiteDBParameter){nexacro.LiteDBParameter=function(_a,_b,_c){this.id=this._p_name=_a||"";this._p_type=_b||"string";this._p_value=_c;};var _pLiteDBParameter=nexacro.LiteDBParameter.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBParameter);_pLiteDBParameter._type_name="LiteDBParameter";_pLiteDBParameter.set_name=function(_a){if(this.paramck_datasource(_a)){this._p_name=_a;return true;}else{return false;}};_pLiteDBParameter.set_value=function(_a){if(this.paramck_datasource(_a)){this._p_value=_a;return true;}else{return false;}};_pLiteDBParameter.set_type=function(_a){if(this.paramck_datasource(_a)){this._p_type=_a;return true;}else{return false;}};_pLiteDBParameter._properties=[{name:"type"},{name:"value"},{name:"name"}];nexacro._defineProperties(_pLiteDBParameter,_pLiteDBParameter._properties);if(nexacro.Device){_pLiteDBParameter.toJSON=function(){var _a;if(this._p_value==null){_a='null';}else if(this.value==undefined){_a='undefined';}else{switch(nexacro.DataUtils.toTypeCode(this._p_type)){case 2:case 3:_a=nexacro.DataUtils.toTextFromDecimal(this._p_value);break;case 4:_a='"'+nexacro.DataUtils.toTextFromDecimal(this._p_value)+'"';break;case 5:_a='"'+nexacro.DataUtils.toTextFromDate(this._p_value)+'"';break;case 6:_a='"'+nexacro.DataUtils.toTextFromTime(this._p_value)+'"';break;case 7:if(this.value.dateObj==undefined){_a='"'+nexacro.DataUtils.toTextFromDateTime(this._p_value)+'"';}else{_a='"'+nexacro.DataUtils.toTextFromDateTime(this._p_value.dateObj)+'"';}break;case 0:case 1:case 8:case 9:default:_a='"'+nexacro.Device.encodeString(this._p_value)+'"';break;}}return nexacro._executeGlobalEvalStr('({"name":"'+this._p_name+'","type":'+nexacro.DataUtils.toTypeCode(this._p_type)+',"value":'+_a+'})');};}_pLiteDBParameter.paramck_datasource=function(_a){if(_a==null){return false;}return true;};delete _pLiteDBParameter;}if(!nexacro.LiteDBStatement){nexacro.LiteDBStatement=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this._p_query="";this._p_ldbconnection="";this._p_parameters={};this._p_async="true";this.applyrowpos=-1;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;this.handle=nexacro._createLiteDBStatementObject(this);};var _pLiteDBStatement=nexacro.LiteDBStatement.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBStatement);_pLiteDBStatement._type_name="LiteDBStatement";_pLiteDBStatement.destroy=function(){if(this.handle){this.close();this.handle=null;}return true;};_pLiteDBStatement.set_query=function(_a){if(this.paramck_query(_a)){this._p_query=_a;nexacro._setLiteDBStatementHandleQuery(this,_a);return true;}else{return false;}};_pLiteDBStatement.set_ldbconnection=function(_a){var _b=false;if(_a instanceof nexacro.LiteDBConnection){this._p_ldbconnection=_a;nexacro._setLiteDBStatementHandleldbConnection(this,_a);_b=true;}else if(typeof (_a)=="string"){var _c="@";if(_a.indexOf(_c)==0){_a=_a.substring(_c.length);}if(null!=this.parent[_a]&&this.parent[_a] instanceof nexacro.LiteDBConnection){this._p_ldbconnection=this.parent[_a];nexacro._setLiteDBStatementHandleldbConnection(this,this._p_parent[_a]);_b=true;}}return _b;};_pLiteDBStatement.set_parameters=function(_a){var _b,_c;if(_a instanceof nexacro.Dataset){var _d=_a;var _e=_d.getColCount();var _f=_d.getRowCount();nexacro._initParamsLiteDBStatementHandle(this);for(var _i=0;_i<_f;_i++ ){_b=nexacro._addParamsLiteDBStatementHandle(this);for(var _j=0;_j<_e;_j++ ){_c=new nexacro.LiteDBParameter();var _g=_d.getColumnInfo(_j);var _h=_d.getColumn(_i,_g.name);_c.set_name(_g.name);_c.set_type(_g.type);_c.set_value(_h);nexacro._setLiteDBStatementHandleParameter(this,_c,_b);}}this._p_parameters=_a;return true;}else if(_a instanceof Array){nexacro._initParamsLiteDBStatementHandle(this);_b=nexacro._addParamsLiteDBStatementHandle(this);for(var _k=0;_k<_a.length;_k+=1){_c=_a[_k];if(_c instanceof nexacro.LiteDBParameter){nexacro._setLiteDBStatementHandleParameter(this,_c,_b);}}this._p_parameters=_a;return true;}else if(_a instanceof Object){nexacro._initParamsLiteDBStatementHandle(this);_b=nexacro._addParamsLiteDBStatementHandle(this);for(var _l in _a){_c=_a[_l];if(_c instanceof nexacro.LiteDBParameter){nexacro._setLiteDBStatementHandleParameter(this,_c,_b);}}this._p_parameters=_a;return true;}return false;};_pLiteDBStatement.set_async=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this._p_async=nexacro._toBoolean(_a);nexacro._setLiteDBStatementHandleAsync(this,this._p_async);return true;}else{return false;}};_pLiteDBStatement._properties=[{name:"query"},{name:"ldbconnection"},{name:"parameters"},{name:"async"}];nexacro._defineProperties(_pLiteDBStatement,_pLiteDBStatement._properties);_pLiteDBStatement.close=function(){if(this.handle){nexacro._closeLiteDBStatementHandle(this);}};_pLiteDBStatement.executeQuery=function(_a){if(_a==null){if(this._p_query.length==0){return false;}}else{if(typeof (_a)=="string"&&_a.length>0){this._p_query=_a;nexacro._setLiteDBStatementHandleQuery(this,_a);}else{return false;}}if(this._p_ldbconnection==null||this._p_ldbconnection==undefined){return false;}if(!(this._p_ldbconnection instanceof nexacro.LiteDBConnection)){return false;}nexacro._executeQueryLiteDBStatementHandle(this);return true;};_pLiteDBStatement.executeUpdate=function(_a){if(_a==null){if(this._p_query.length==0){return false;}}else{if(typeof (_a)=="string"&&_a.length>0){this._p_query=_a;nexacro._setLiteDBStatementHandleQuery(this,_a);}else{return false;}}if(this._p_ldbconnection==null||this._p_ldbconnection==undefined){return false;}if(!(this._p_ldbconnection instanceof nexacro.LiteDBConnection)){return false;}nexacro._executeUpdateLiteDBStatementHandle(this);return true;};_pLiteDBStatement.on_success=function(_a,_b){var _c;if(_a!="7"){_c=new nexacro.LiteDBEventInfo("onsuccess",_a,_b);}else{var _d=new nexacro.Dataset("__tempDS",this._p_parent);_d=this.JSONStringToDataset2(_b,_d);_c=new nexacro.LiteDBEventInfo("onsuccess",_a,_d);}this.on_fire_onsuccess(this,_c);};_pLiteDBStatement.on_fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBStatement.on_error=function(_a,_b,_c,_d){var _e=new nexacro.LiteDBErrorEventInfo("onerror",_a,_b,_c,_d);this.on_fire_onerror(this,_e);};_pLiteDBStatement.on_fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBStatement.retQueryString=function(_a){_a=_a.replace(/"/g,"_DQOUT_");_a=_a.replace(/'/g,"_QUOT_");return _a;};_pLiteDBStatement.caheckTypeKeyword=function(_a){if(typeof (_a)=="undefined"||_a.length==0){return;}var _b=_a.toLowerCase();var _c=_b.split(" ");for(var _d=0;_d<_c.length;_d++ ){if(_a.match(/select/i)!=null){return 1;}else if(_a.match(/insert/i)!=null){return 2;}else if(_a.match(/update/i)!=null){return 3;}else if(_a.match(/delete/i)!=null){return 4;}}return 0;};_pLiteDBStatement.paramck_query=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};_pLiteDBStatement.JSONStringToDataset2=function(_a,_b){if(_b==undefined){_b=new nexacro.Dataset();}return this.JSONObjectToDataset2(nexacro._executeGlobalEvalStr('('+_a+')'),_b);};_pLiteDBStatement.JSONObjectToDataset2=function(_a,_b){if(_a==undefined||_a.columnInfos==undefined){return _b;}if(_b==undefined){_b=new nexacro.Dataset();}var _c=_a.columnInfos;var _d;for(_d=0;_d<_c.length;_d++ ){_b.addColumn(_c[_d].name,nexacro.DataUtils.toTypeName(_c[_d].type));}var _e=_a.rows;for(_d=0;_d<_e.length;_d++ ){var _f=_b.addRow();for(var _g=0;_g<_c.length;_g++ ){switch(_c[_g].type){case 1:_b.setColumn(_f,_c[_g].name,this.jsonDecodeString(_e[_d][_c[_g].name]));break;case 4:_b.setColumn(_f,_c[_g].name,_e[_d][_c[_g].name]);break;case 2:case 3:case 5:case 6:case 7:case 0:case 8:case 9:default:_b.setColumn(_f,_c[_g].name,_e[_d][_c[_g].name]);break;}}}return _b;};_pLiteDBStatement.jsonDecodeString=function(_a){if(_a===undefined||_a===null){return _a;}if(typeof (_a)!='string'){return _a;}var _b=_a;_b=_b.replace(/\"/g,"&quot;");_b=_b.replace(/\'/g,"&apos;");_b=_b.replace(/\r/g,"&#13;");_b=_b.replace(/\n/g,"&#10;");_b=_b.replace(/\t/g,"&#9;");_b=_b.replace(/\\/g,"&#92;");return _b;};_pLiteDBStatement.jsonDecodeString=function(_a){if(_a===undefined||_a===null){return _a;}if(typeof (_a)!='string'){return _a;}var _b=_a;_b=_b.replace(/\&quot\;/g,"\"");_b=_b.replace(/\&apos\;/g,"'");_b=_b.replace(/\&\#13\;/g,"\r");_b=_b.replace(/\&\#10\;/g,"\n");_b=_b.replace(/\&\#9\;/g,"\t");_b=_b.replace(/\&\#92\;/g,"\\");return _b;};delete _pLiteDBStatement;}}if(nexacro._Browser=="Runtime"){if(!nexacro._init_litedb_api){nexacro._init_litedb_api=true;nexacro._createLiteDBConnectionObject=function(_a){return nexacro.__createLiteDBConnectionObject(_a,_a.on_success,_a.on_error);};nexacro._setLiteDBConnectionHandleBusyTimeOut=function(_a,_b){return nexacro.__setLiteDBConnectionHandleBusyTimeOut(_a.handle,_b);};nexacro._setLiteDBConnectionHandleDataSource=function(_a,_b){return nexacro.__setLiteDBConnectionHandleDataSource(_a.handle,_b);};nexacro._setLiteDBConnectionHandleOpenFlag=function(_a,_b){return nexacro.__setLiteDBConnectionHandleOpenFlag(_a.handle,_b);};nexacro._setLiteDBConnectionHandlePreConnect=function(_a,_b){return nexacro.__setLiteDBConnectionHandlePreConnect(_a.handle,_b);};nexacro._setLiteDBConnectionHandleAsync=function(_a,_b){return nexacro.__setLiteDBConnectionHandleAsync(_a.handle,_b);};nexacro._beginLiteDBConnectionHandle=function(_a){nexacro.__beginLiteDBConnectionHandle(_a.handle);};nexacro._closeLiteDBConnectionHandle=function(_a){nexacro.__closeLiteDBConnectionHandle(_a.handle);};nexacro._commitLiteDBConnectionHandle=function(_a){nexacro.__commitLiteDBConnectionHandle(_a.handle);};nexacro._isConnectedLiteDBConnectionHandle=function(_a){nexacro.__isConnectedLiteDBConnectionHandle(_a.handle);};nexacro._openLiteDBConnectionHandle=function(_a,_b,_c){nexacro.__openLiteDBConnectionHandle(_a.handle,_b,_c);};nexacro._rollbackLiteDBConnectionHandle=function(_a){nexacro.__rollbackLiteDBConnectionHandle(_a.handle);};nexacro._createLiteDBStatementObject=function(_a){return nexacro.__createLiteDBStatementObject(_a,_a.on_success,_a.on_error);};nexacro._setLiteDBStatementHandleQuery=function(_a,_b){return nexacro.__setLiteDBStatementHandleQuery(_a.handle,_b);};nexacro._setLiteDBStatementHandleldbConnection=function(_a,_b){return nexacro.__setLiteDBStatementHandlelDbConnection(_a.handle,_b.handle);};nexacro._initParamsLiteDBStatementHandle=function(_a){return nexacro.__initParamsLiteDBStatementHandle(_a.handle);};nexacro._addParamsLiteDBStatementHandle=function(_a){return nexacro.__addParamsLiteDBStatementHandle(_a.handle);};nexacro._setLiteDBStatementHandleParameter=function(_a,_b,_c){if(_b instanceof nexacro.LiteDBParameter){return nexacro.__setLiteDBStatementHandleParameter(_a.handle,_b.name,_b.type,_b.value,_c);}};nexacro._setLiteDBStatementHandleAsync=function(_a,_b){return nexacro.__setLiteDBStatementHandleAsync(_a.handle,_b);};nexacro._closeLiteDBStatementHandle=function(_a){nexacro.__closeLiteDBStatementHandle(_a.handle);};nexacro._executeQueryLiteDBStatementHandle=function(_a){nexacro.__executeQueryLiteDBStatementHandle(_a.handle);};nexacro._executeUpdateLiteDBStatementHandle=function(_a){nexacro.__executeUpdateLiteDBStatementHandle(_a.handle);};}}if(!nexacro.Device||nexacro._OS=="Windows"||nexacro._OS=="iOS"||nexacro._OS=="OSX"){if(!nexacro._init_deviceobjs_api){nexacro._setIconWidget=nexacro._emptyFn;nexacro._setTopmostWidget=nexacro._emptyFn;}}if(!nexacro.Device||nexacro._OS=="Android"||nexacro._OS=="iOS"){if(nexacro.Application){nexacro.Application.setIconWidget=function(_a,_b){nexacro._setIconWidget(_a,_b);};nexacro.Application.setTopmostWidget=function(_a,_b){nexacro._setTopmostWidget(_a,_b);};}}if(nexacro._Browser=="Runtime"){if(!nexacro._init_deviceobjs_api){nexacro._init_deviceobjs_api=true;nexacro._setIconWidget=function(_a,_b){var _c=nexacro._popupframes.get_item(_a);if(_c&&_c.widget){if(_c.titlebar!=null){_c.set_icon(_b);}else{if(_b){_c.set_icon(_b);_c.on_update_style_icon();var _d=_c.icon?_c.icon._value:"";_d=nexacro._getURIValue(_d);_d=nexacro._getImageLocation(_d,"");var _e=nexacro._getImageSize(_d,function(){var _f=_c._getWindow();nexacro._setWindowHandleIcon(_f.handle,_d);},this);if(_e!=null){var _f=_c._getWindow();nexacro._setWindowHandleIcon(_f.handle,_d);}}}}};nexacro._setTopmostWidget=function(_a,_b){var _c=nexacro._popupframes.get_item(_a);if(_c&&_c.widget){var _d=_c._getWindow();nexacro.__setWindowHandleTopmost(_d.handle,_b);}};}}if(!nexacro.Device){nexacro.DeviceI=function(){this._userCreatedObj={};this.curDevice=0;this.isphone=0;this._is_hybrid=true;};var _pDeviceI=nexacro.DeviceI.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.DeviceI);_pDeviceI._type_name="Device";_pDeviceI.setup=function(){};_pDeviceI.execiOS=function(){};_pDeviceI.exec=function(_a){};_pDeviceI.makeID=function(){};_pDeviceI.runCallback=function(_a,_b,_c){};_pDeviceI._isHybrid=function(){};_pDeviceI.publicNumCheck=function(){};_pDeviceI.paramck_folderName=function(_a){};_pDeviceI.publicNumCheck_Sms=function(){};_pDeviceI.pramck_makeCall=function(_a,_b){};_pDeviceI.paramck_play=function(_a){};_pDeviceI.paramck_phoneNumber=function(_a){};_pDeviceI.paramck_message=function(_a){};_pDeviceI.paramck_sendMessage=function(_a,_b){};_pDeviceI.paramck_deleteMessage=function(_a){};_pDeviceI.paramck_AudioLoad=function(_a){};_pDeviceI.paramck_isReachable=function(_a){};_pDeviceI.paramck_watchStart=function(_a){};_pDeviceI.parmack_Geolocation=function(_a,_b,_c){};_pDeviceI.paramck_vibstartpos=function(_a){};_pDeviceI.paramck_vibrepeatcount=function(_a){};_pDeviceI.paramck_vibpattern=function(_a){};_pDeviceI.paramck_accuracy=function(_a){};_pDeviceI.parmack_AccelgetCurrentPosition=function(_a){};_pDeviceI.pramck_AccelwatchStart=function(_a,_b){};_pDeviceI.pramck_virtualproperty=function(_a){};_pDeviceI.pramck_asyncOpen=function(_a,_b){};_pDeviceI.pramck_asyncRead=function(_a){};_pDeviceI.pramck_asyncReadLine=function(_a){};_pDeviceI.paramck_asyncSeek=function(_a,_b){};_pDeviceI.pramck_asyncDelete=function(_a){};_pDeviceI.pramck_asyncIsExist=function(_a){};_pDeviceI.pramck_asyncGetFileList=function(_a,_b,_c){};_pDeviceI.pramck_filedialog_defaultextension=function(_a){};_pDeviceI.pramck_filedialog_filter=function(_a){};_pDeviceI.pramck_filedialog_numbercheck=function(_a){};_pDeviceI.pramck_filedialogasyncOpen=function(_a,_b,_c,_d){};_pDeviceI.pramck_contactString=function(_a){};_pDeviceI.isConvertDateToString=function(_a){};_pDeviceI.isValidDate=function(_a){};_pDeviceI.pramk_ContactFieldArray=function(_a){};_pDeviceI.pramk_ContactIMArray=function(_a){};_pDeviceI.pramk_ContactAddressArray=function(_a){};_pDeviceI.pramk_ContactOrganizationArray=function(_a){};_pDeviceI.pramk_ContactPhotoArray=function(_a){};_pDeviceI.parseDateToInt=function(_a){};_pDeviceI.paramck_takePicture=function(_a,_b,_c,_d,_e){};_pDeviceI.paramck_busytimeout=function(_a){};_pDeviceI.paramck_datasource=function(_a){};_pDeviceI.paramck_asyncOpen=function(_a,_b){};_pDeviceI.paramck_query=function(_a){};_pDeviceI.paramck_paramck_ldbconnection=function(_a){};_pDeviceI.paramck_asyncExecuteQuery=function(_a){};_pDeviceI.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){};_pDeviceI.encodeString=function(_a){};_pDeviceI.DatasetToJSONString=function(_a){};_pDeviceI.DatasetToJSONObject=function(_a){};_pDeviceI.JSONObjectToDataset=function(_a,_b){};_pDeviceI.JSONStringToDataset=function(_a,_b){};_pDeviceI.DatasetToJSONString2=function(_a){};_pDeviceI.DatasetToJSONObject2=function(_a){};_pDeviceI.JSONObjectToDataset2=function(_a,_b){};_pDeviceI.JSONStringToDataset2=function(_a,_b){};_pDeviceI.exit=function(_a){};delete _pDeviceI;nexacro.Device=new nexacro.DeviceI();if(nexacro.Device._isHybrid()){if(window.system){if(nexacro.Device.curDevice==DeviceType.IOS){nexacro.System.prototype();nexacro.System.getSystemInfo();}}}if(nexacro.System){nexacro.System.getSystemInfo=function(){};nexacro.System.recvPhoneInfo=function(_a){};nexacro.System.setOrientation=function(_a){};nexacro.System.getPackageVersion=function(){};}}if(!nexacro.Phone){nexacro.Phone=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;var _c={};var _d={id:this._id,div:"Call",method:"constructor",params:_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pPhone=nexacro.Phone.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Phone);_pPhone._type_name="Phone";_pPhone.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a={};var _b={id:this._id,div:"Call",method:"destroy",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pPhone.makeCall=function(_a,_b){this.bAutoDialing=_b?_b:false;var _c=nexacro.Device.pramck_makeCall(_a,this.bAutoDialing);if(_c==true){var _d=_a;_d=_d.split("-").join("");var _e=_d.split("+").join("");if(_e.length<3){return false;}var _f;if(nexacro.Device.curDevice==DeviceType.ANDROID){var _g={telNo:_d,bAuto:this.bAutoDialing};var _h={id:this._id,div:"Call",method:"sendCall",params:_g};var _f=JSON.stringify(_h);nexacro.Device.exec(_f);}else{if((typeof nexacro.Device._isHybrid()=="undefined")||nexacro.Device._isHybrid()==false){return true;}_f="tel://"+_d;nexacro.Device.exec(_f);}return true;}else{return false;}};delete _pPhone;}if(!nexacro.Sms){nexacro.Sms=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.enableevent=true;this._is_alive=true;this._event_list={"cansendmessage":1,"onsendmessage":1,"onrecvmessage":1,"ondeletemessage":1,"onerror":1,"onreadmessagelist":1};this.cansendmessage=null;this.onsendmessage=null;this.onrecvmessage=null;this.ondeletemessage=null;this.onerror=null;this.onreadmessagelist=null;var _c='""';var _d={id:this._id,div:"Sms",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pSms=nexacro.Sms.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Sms);_pSms._type_name="Sms";_pSms._p_phonenumber="";_pSms._p_message="";_pSms.destroy=function(){var _a='""';var _b;this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];var _c={id:this._id,div:"Sms",method:"destroy",params:JSON.parse(_a)};var _b=JSON.stringify(_c);nexacro.Device.exec(_b);return true;};_pSms._getReferenceContext=function(){return this._refform;};_pSms.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this._p_phonenumber=_a;return true;}return false;};_pSms.set_message=function(_a){if(this.paramck_message(_a)==true){this._p_message=_a;return true;}return false;};_pSms._properties=[{name:"phonenumber"},{name:"message"}];nexacro._defineProperties(_pSms,_pSms._properties);_pSms.sendMessage=function(_a,_b){if(nexacro.Device.curDevice==DeviceType.IOS){if(nexacro._SystemType=="ipad"){this.sendUnsupportedFunc();return false;}}var _c=new nexacro.SmsMessage("SmsMessage");_c.set_smsid("-1");if(_a==null&&_b==null){_c.set_phonenumber(this._p_phonenumber||"");_c.set_message(this._p_message||"");}else if(_a&&_b){if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b);}else{if(typeof (_a)=="undefined"){_a="";}if(!_c.set_phonenumber(_a)){return false;}_c.set_message(_b||"");}var _d=this._cansendmessage(_c._p_phonenumber,_c._p_message);if(_d!=null){if(_d.toString()=="false"){return false;}}if(this.paramck_sendMessage(_c._p_phonenumber,_c._p_message)){var _e=_c._p_phonenumber.split("+").join("");var _f={};if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){_f.number=_e;_f.msg=_c._p_message;}else{_f.number=_c._p_phonenumber;_f.msg=_c._p_message.replace(/\n/g,"_NEWLINE_");}var _g="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_g=this.parent._getWindow().handle;}var _h={id:this._id,windowhandle:_g,div:"Sms",method:"sendMessage",params:_f};var _i=JSON.stringify(_h);nexacro.Device.exec(_i);return true;}else{return false;}};_pSms.recvStart=function(){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Sms",method:"recvStart",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);}else{this.sendUnsupportedFunc();}};_pSms.recvStop=function(){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Sms",method:"recvStop",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);}else{this.sendUnsupportedFunc();}};_pSms.readMessageList=function(){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Sms",method:"readMessageList",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);}else{this.sendUnsupportedFunc();}};_pSms.deleteMessage=function(_a){if(nexacro.Device.curDevice==DeviceType.IOS){this.sendUnsupportedFunc();return false;}this.index=_a;if(this.paramck_deleteMessage(this.index)){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){this.id=_a;var _b={id:this.id};var _c="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_c=this._p_parent._getWindow().handle;}var _d={id:this._id,windowhandle:_c,div:"Sms",method:"deleteMessage",params:_b};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);}return true;}else{return false;}};_pSms._onsendmessage=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.SmsEventInfo("onsendmessage",_c.smsid,_c.phonenumber,_c.message);}}else if(nexacro.Device.curDevice==DeviceType.ANDROID){_b=new nexacro.SmsEventInfo("onsendmessage",_a.smsid,_a.phonenumber,_a.message);}else{_b=new nexacro.SmsEventInfo("onsendmessage",-1,_a.phonenumber,_a.message);}this._fire_onsendmessage(this,_b);};_pSms._fire_onsendmessage=function(_a,_b){if(this.onsendmessage&&this.onsendmessage._has_handlers){return this.onsendmessage._fireEvent(this,_b);}return true;};_pSms._onrecvmessage=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.SmsEventInfo("onrecvmessage",_c.smsid,_c.phonenumber,_c.message);}}else{_b=new nexacro.SmsEventInfo("onrecvmessage",_a.smsid,_a.phonenumber,_a.message);}this._fire_onrecvmessage(this,_b);};_pSms._fire_onrecvmessage=function(_a,_b){if(this.onrecvmessage&&this.onrecvmessage._has_handlers){return this.onrecvmessage._fireEvent(this,_b);}return true;};_pSms._onreadmessagelist=function(_a){var _b,_c,_d,_e;var _f;var _g;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _h=JSON.parse(_a);if(_h){_e=_h.length;_b=new Array(_e);for(_f=0;_f<_e;_f++ ){_c=nexacro._executeGlobalEvalStr("("+_h[_f]+")");_d=new nexacro.SmsMessage(_c.id,_c.phonenumber,_c.message,_c.type,_c.date);_b[_f]=_d;}_g=new nexacro.SmsMessageListEventInfo(_b);this._fire_onreadmessagelist(this,_g);}}else{_e=_a.length;_b=new Array(_e);for(_f=0;_f<_e;_f++ ){_c=nexacro._executeGlobalEvalStr("("+_a[_f]+")");_d=new nexacro.SmsMessage(_c.id,_c.phonenumber,_c.message,_c.type,_c.date);_b[_f]=_d;}_g=new nexacro.SmsMessageListEventInfo(_b);this._fire_onreadmessagelist(this,_g);}};_pSms._fire_onreadmessagelist=function(_a,_b){if(this.onreadmessagelist&&this.onreadmessagelist._has_handlers){return this.onreadmessagelist._fireEvent(this,_b);}return true;};_pSms._ondeletemessage=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.SmsEventInfo("ondeletemessage",_c.smsid,_c.phonenumber,_c.message);}}else{_b=new nexacro.SmsEventInfo("ondeletemessage",_a.smsid,_a.phonenumber,_a.message);}this._fire_ondeletemessage(this,_b);};_pSms._fire_ondeletemessage=function(_a,_b){if(this.ondeletemessage&&this.ondeletemessage._has_handlers){return this.ondeletemessage._fireEvent(this,_b);}return true;};_pSms._cansendmessage=function(_a,_b){var _c;var _d="-1";if(nexacro.Device.curDevice==DeviceType.ANDROID&&nexacro._Browser=="Runtime"){var _e=nexacro.__getMobileProductType();if(_e){if(_e.toLowerCase()=="shw-m380s"){this.sendUnsupportedFunc();return false;}}}else{if(nexacro._SystemType=="ipad"){this.sendUnsupportedFunc();return false;}_d=-1;}_c=new nexacro.SmsEventInfo("cansendmessage",_d,_a,_b);return this._fire_cansendmessage(this,_c);};_pSms._fire_cansendmessage=function(_a,_b){if(this.cansendmessage&&this.cansendmessage._has_handlers){return this.cansendmessage._fireEvent(this,_b);}return true;};_pSms._onerror=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.SmsErrorEventInfo("onerror",_c.smsid,_c.phonenumber,_c.message,_c.errorcode,_c.errormsg);}}else{_b=new nexacro.SmsErrorEventInfo("onerror",_a.smsid,_a.phonenumber,_a.message,_a.errorcode,_a.errormsg);}this._fire_onerror(this,_b);};_pSms._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pSms.sendUnsupportedFunc=function(){var _a=this;nexacro._OnceCallbackTimer.callonce(this,function(){var _b=new nexacro.SmsErrorEventInfo("onerror","-1",_a.phonenumber,_a.message,"2002","The phone does not support");this._fire_onerror(this,_b);},20);return true;};_pSms.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}_a=_a.toString();var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSms.paramck_message=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};_pSms.paramck_sendMessage=function(_a,_b){if(_a==null||_b==null||typeof (_a)=="undefined"||typeof (_b)=="undefined"||typeof (_b)!="string"){return false;}_a=_a.toString();var _c;try{_c="";_c=_a.split("+").join("");_c=_c.split("-").join("");}catch(e){return false;}if(!this.publicNumCheck_Sms(_c)){return false;}return true;};_pSms.paramck_deleteMessage=function(_a){if(_a==null||!nexacro.Device.publicNumCheck(_a)||(_a<1)){return false;}return true;};_pSms.publicNumCheck_Sms=function(_a){var _b;try{_b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}var _c;try{_c=Number(_a.toString());}catch(e){return false;}return true;};delete _pSms;}if(!nexacro.SmsMessageListEventInfo){nexacro.SmsMessageListEventInfo=function(_a){this.eventid="onreadmessagelist";this.smsmessages=_a;};var _pSmsMsgList=nexacro.SmsMessageListEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsMessageListEventInfo);_pSmsMsgList._type_name="SmsMessageListEventInfo";delete _pSmsMsgList;}if(!nexacro.SmsMessage){nexacro.SmsMessage=function(_a,_b,_c,_d,_e){this._p_smsid=_a;this._p_phonenumber=_b;this._p_message=_c;this._p_type=_d;this._p_date=_e;};var _pSmsMessage=nexacro.SmsMessage.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.SmsMessage);_pSmsMessage._type_name="SmsMessage";_pSmsMessage.set_phonenumber=function(_a){if(this.paramck_phoneNumber(_a)==true){this._p_phonenumber=_a;return true;}return false;};_pSmsMessage.set_message=function(_a){if(this.paramck_message(_a)==true){this._p_message=_a;return true;}return false;};_pSmsMessage.set_smsid=function(_a){if(typeof (_a)=="undefined"){this._p_smsid="";}else if(typeof (_a)=="string"){this._p_smsid=Number(_a);}else{this._p_smsid=_a;}return true;};_pSmsMessage.set_type=function(_a){this._p_type=(typeof (_a)=="undefined")?"":_a;return true;};_pSmsMessage.set_date=function(_a){this._p_date=(typeof (_a)=="undefined")?"":_a;return true;};_pSmsMessage._properties=[{name:"phonenumber"},{name:"message"},{name:"smsid"},{name:"type"},{name:"date"}];nexacro._defineProperties(_pSmsMessage,_pSmsMessage._properties);_pSmsMessage.paramck_phoneNumber=function(_a){if(_a==null||typeof (_a)=="undefined"){return false;}_a=_a.toString();var _b="";try{_b=_a.split("+").join("");_b=_b.split("-").join("");}catch(e){return false;}if(_b.length<3){return false;}if(!this.publicNumCheck_Sms(_b)){return false;}return true;};_pSmsMessage.paramck_message=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};_pSmsMessage.publicNumCheck_Sms=function(_a){var _b;try{_b=_a.toString().split(" ").join("");}catch(e){return false;}if(_b.length==0){return false;}return true;};delete _pSmsMessage;}if(!nexacro.SmsEventInfo){nexacro.SmsEventInfo=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"){this.smsid="";}else if(typeof (_b)=="string"){this.smsid=Number(_b);}else{this.smsid=_b;}this.eventid=_a;this.phonenumber=_c;if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}};var _pSmsEventInfo=nexacro.SmsEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsEventInfo);_pSmsEventInfo._type_name="SmsEventInfo";delete _pSmsEventInfo;}if(!nexacro.SmsErrorEventInfo){nexacro.SmsErrorEventInfo=function(_a,_b,_c,_d,_e,_f){if(typeof (_b)=="undefined"){this.smsid="";}else{this.smsid=_b;}this.eventid=_a;this.smsid=_b;this.phonenumber=_c;if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){this.message=_d;}else{this.message=_d.replace(/__NEW_LINE__/g,"\n");}this.errortype="ObjectError";this.statuscode=_e;this.errormsg=_f;};var _pSmsErrorEventInfo=nexacro.SmsErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.SmsErrorEventInfo);_pSmsErrorEventInfo._type_name="SmsErrorEventInfo";delete _pSmsErrorEventInfo;}if(!nexacro.AudioPlayer){nexacro.AudioPlayer=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._refform=_b;this.bload=false;this.bplay=false;this.bpaused=false;this.enableevent=true;this._is_alive=true;this._p_url="";this._p_duration=0.0;this._p_currentpos=0.0;this._p_repeatcount=1;this._p_startpos=-1;this._p_stoppos=-1;this._p_volume=-1;this._p_pan=-1;this._event_list={"onload":1,"onplay":1,"onplaying":1,"onstop":1,"onerror":1,"onmovepos":1};this.onload=null;this.onplay=null;this.onplaying=null;this.onstop=null;this.onerror=null;this.onmovepos=null;var _c='""';var _d={id:this._id,div:"Sound",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pAudioPlayer=nexacro.AudioPlayer.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.AudioPlayer);_pAudioPlayer._type_name="AudioPlayer";_pAudioPlayer.destroy=function(){this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"Sound",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pAudioPlayer._getReferenceContext=function(){return this._refform;};_pAudioPlayer.setSystemVolume=function(_a){this.volume=_a;};_pAudioPlayer.set_duration=function(_a){};_pAudioPlayer.set_currentpos=function(_a){};_pAudioPlayer.set_repeatcount=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=0){this._p_repeatcount=_a;}else{return false;}}else{return false;}}return true;};_pAudioPlayer.set_startpos=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if((_a==-1)||(0<=_a&&_a<=this._p_duration)){this._p_startpos=_a;}else{return false;}}return true;};_pAudioPlayer.set_stoppos=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if((_a==-1)||(0<=_a&&_a<=this._p_duration)){this._p_stoppos=_a;}else{return false;}}return true;};_pAudioPlayer.set_volume=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a==-1){this._p_volume=_a;}else{return false;}}return true;};_pAudioPlayer.set_pan=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if((_a>=0.0&&_a<=1.0)||_a==-1){this._p_pan=_a;}else{return false;}}return true;};_pAudioPlayer.set_url=function(_a){var _b=this.paramck_AudioLoad(_a);if(_b==true){this._p_url=_a;return true;}else{return false;}};_pAudioPlayer._properties=[{name:"duration"},{name:"currentpos"},{name:"repeatcount"},{name:"startpos"},{name:"stoppos"},{name:"volumn"},{name:"pan"},{name:"url"}];nexacro._defineProperties(_pAudioPlayer,_pAudioPlayer._properties);_pAudioPlayer.load=function(_a){this._p_startpos=-1;this._p_stoppos=-1;var _b=this.paramck_AudioLoad(_a);if(_b==true){this._p_url=_a;var _c;var _d,_e;if(nexacro.Device.curDevice==DeviceType.ANDROID){var _f="";var _g="";_d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_f=1;_g=_a.substring(9,_a.length);}else if(_d.toLowerCase()=="%sd_card%"){_f=2;_g=_a.substring(9,_a.length);}else if(_d.substring(0,7)=="http://"){_g=_a;}else{_e=nexacro._getFileCache(_a);if(null!=_e){_f=3;_g=_e;}else{_g=_a;}}_c={target:_g,EnvironmentPath:_f};}else{var _h="";_d=_a.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_h="_userapp_"+_a.substring(9,_a.length);}else if(_d.substring(0,7)=="http://"){_h=_a;}else{_e=nexacro._getFileCache(_a);if(null!=_e){_h="_userapp_"+_e;}else{_h=_a;}}_c={target:_h};}var _i={id:this._id,div:"Sound",method:"load",params:_c};var _j=JSON.stringify(_i);nexacro.Device.exec(_j);return true;}else{return false;}};_pAudioPlayer.play=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null||_a==""){_a=0;_b=1;}else{if(nexacro.Device.publicNumCheck(_a)&&_a>=0&&_a<=86400000){if(_a<200){return false;}else{_b=0;}}else{return false;}}if(typeof (this._p_repeatcount)=="undefined"||this._p_repeatcount==null){this._p_repeatcount=1;}if(typeof (this._p_startpos)=="undefined"||this._p_startpos==null||this._p_startpos==0){this._p_startpos=-1;}if(typeof (this._p_stoppos)=="undefined"||this._p_stoppos==null||this._p_stoppos==0){this._p_stoppos=-1;}if(this._p_volume>=0.0&&this._p_volume<=1.0){this.setvolume();}if((this._p_pan>=0.0&&this._p_pan<=1.0)||this._p_pan==-1){this.setpan();}var _c={repeatstartpos:this._p_startpos,repeatstoppos:this._p_stoppos,repeatcount:this._p_repeatcount,playingeventtime:_a,intervaltimestate:_b};var _d=this._p_startpos==-1&&this._p_stoppos==-1?"play":"repeatplay";var _e={id:this._id,div:"Sound",method:_d,params:_c};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);return true;};_pAudioPlayer.pause=function(){if(this.bload==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_d);},20);return;}if(this.bplay==false&&this.bpaused==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1009","Not playing");this._fire_onerror(this,_d);},20);return;}if(this.bpaused==true){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1303","Already paused");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:"Sound",method:"pause",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioPlayer.resume=function(){if(this.bload==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_d);},20);return;}if(this.bplay==true){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1011","Not Paused");this._fire_onerror(this,_d);},20);return;}if(this.bpaused==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1010","Can't resume.");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:"Sound",method:"resume",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioPlayer.stop=function(){if(this.bload==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1007","Not loaded");this._fire_onerror(this,_d);},20);return;}if(this.bplay==false&&this.bpaused!=true){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","",this.currentpos,"1009","Not playing");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:"Sound",method:"stop",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioPlayer.movePos=function(_a){if(this.bload==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _e=new nexacro.AudioErrorEventInfo("onerror","",0,"1007","Not loaded");this._fire_onerror(this,_e);},20);return;}if(typeof (_a)!="undefined"&&(_a>=0&&_a<=this._p_duration)&&nexacro.Device.publicNumCheck(_a)){this.time=_a||"";var _b={desttime:this.time};var _c={id:this._id,div:"Sound",method:"movePos",params:_b};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);return true;}else{return false;}};_pAudioPlayer._onload=function(_a){var _b=new nexacro.AudioEventInfo("onload",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this._p_duration=_a.playtime;this.bload=true;this.bplay=false;this.bpaused=false;this._p_duration=_a.playtime;this._fire_onload(this,_b);};_pAudioPlayer._fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){return this.onload._fireEvent(this,_b);}return true;};_pAudioPlayer._onplay=function(_a){var _b=new nexacro.AudioEventInfo("onplay",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this._p_duration=_a.playtime;this._p_currentpos=_a.curtime;this.bplay=true;this.bpaused=false;this._fire_onplay(this,_b);};_pAudioPlayer._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pAudioPlayer._onplaying=function(_a){var _b=new nexacro.AudioEventInfo("onplaying",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this._p_duration=_a.playtime;this._p_currentpos=_a.curtime;this._fire_onplaying(this,_b);};_pAudioPlayer._fire_onplaying=function(_a,_b){if(this.onplaying&&this.onplaying._has_handlers){return this.onplaying._fireEvent(this,_b);}return true;};_pAudioPlayer._onstop=function(_a){var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this._p_duration=_a.playtime;this._p_currentpos=_a.curtime;if(_a.reason=="4"||_a.reason=="5"){this.bpaused=false;this.bplay=false;this._p_currentpos=0.0;}else if(_a.reason=="6"){this.bpaused=true;this.bplay=false;}this._fire_onstop(this,_b);};_pAudioPlayer._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioPlayer._onmovepos=function(_a){this._p_currentpos=_a.curtime;var _b=new nexacro.AudioEventInfo("onmovepos",_a.reason,_a.url,_a.playtime,_a.curtime,_a.repeatstart,_a.repeatend,_a.repeatcount);this._p_duration=_a.playtime;this._fire_onmovepos(this,_b);};_pAudioPlayer._fire_onmovepos=function(_a,_b){if(this.onmovepos&&this.onmovepos._has_handlers){return this.onmovepos._fireEvent(this,_b);}return true;};_pAudioPlayer.setvolume=function(){var _a={volume:this._p_volume};var _b={id:this._id,div:"Sound",method:"setvolum",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioPlayer.setpan=function(){var _a={pan:this._p_pan};var _b={id:this._id,div:"Sound",method:"setpan",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioPlayer._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioPlayer._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pAudioPlayer.paramck_AudioLoad=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};delete _pAudioPlayer;}if(!nexacro.AudioEventInfo){nexacro.AudioEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.eventid=_a;this.reason=_b;this.url=_c;this.duration=_d;this.currentpos=_e;};var _pAudioEventInfo=nexacro.AudioEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioEventInfo);_pAudioEventInfo._type_name="AudioEventInfo";delete _pAudioEventInfo;}if(!nexacro.AudioErrorEventInfo){nexacro.AudioErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.url=_b;this.currentpos=_c;this.errortype="ObjectError";this.statuscode=_d;this.errormsg=_e;};var _pAudioErrorEventInfo=nexacro.AudioErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AudioErrorEventInfo);_pAudioErrorEventInfo._type_name="AudioErrorEventInfo";delete _pAudioErrorEventInfo;}if(!nexacro.Geolocation){nexacro.Geolocation=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.ACCURACY_0=0;this.ACCURACY_1=1;this.ACCURACY_2=2;this.ACCURACY_3=3;this.ACCURACY_4=4;this._p_coords={latitude:0.0,longitude:0.0,altitude:0.0,heading:0.0,speed:undefined,accuracy:0.0,altitudeaccuracy:0.0,set_latitude:function(){},set_longitude:function(){},set_altitude:function(){},set_heading:function(){},set_speed:function(){},set_accuracy:function(){},set_altitudeaccuracy:function(){}};this._p_timestamp="";this._p_sourcetype="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c={};var _d={id:this._id,div:"Geolocation",method:"constructor",params:_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pGeolocation=nexacro.Geolocation.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Geolocation);_pGeolocation._type_name="Geolocation";_pGeolocation.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"Geolocation",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pGeolocation.set_coords=function(){};_pGeolocation.set_latitude=function(){};_pGeolocation.set_longitude=function(){};_pGeolocation.set_altitude=function(){};_pGeolocation.set_heading=function(){};_pGeolocation.set_speed=function(){};_pGeolocation.set_accuracy=function(){};_pGeolocation.set_altitudeaccuracy=function(){};_pGeolocation.set_sourcetype=function(){};_pGeolocation.set_timestamp=function(){};_pGeolocation._properties=[{name:"coords"},{name:"sourcetype"},{name:"timestamp"}];nexacro._defineProperties(_pGeolocation,_pGeolocation._properties);_pGeolocation.getCurrentPosition=function(_a,_b){if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,1)){this.Accuracy=_a;this.Timeout=_b;var _c={Accuracy:this.Accuracy,Timeout:this.Timeout};var _d="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_d=this._p_parent._getWindow().handle;}var _e={id:this._id,windowhandle:_d,div:"Geolocation",method:"getCurrentPosition",params:_c};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);return true;}else{return false;}};_pGeolocation.watchStart=function(_a,_b){if(_a==null||_b==null){return false;}if(this.parmack_Geolocation(_a,_b,2)){this.Accuracy=_a.toString();this.IntervalTime=_b.toString();var _c={Accuracy:this.Accuracy,IntervalTime:this.IntervalTime};var _d="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_d=this._p_parent._getWindow().handle;}var _e={id:this._id,windowhandle:_d,div:"Geolocation",method:"watchStart",params:_c};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);}else{return false;}return true;};_pGeolocation.watchStop=function(){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Geolocation",method:"watchStop",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);};_pGeolocation._onrecvsuccess=function(_a){if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _b=JSON.parse(_a);if(_b){this.coords.latitude=_b.coords.latitude;this.coords.longitude=_b.coords.longitude;this.coords.altitude=_b.coords.altitude;this.coords.heading=_b.coords.heading;this.coords.speed=(Number(_a.coords.speed)>0)?_a.coords.speed:undefined;this.coords.accuracy=_b.coords.accuracy;this.coords.altitudeaccuracy=_b.coords.altitudeaccuracy;this.timestamp=new Date(_b.timestamp);this.sourcetype=_b.sourcetype;}}else{this.coords.latitude=_a.coords.latitude;this.coords.longitude=_a.coords.longitude;this.coords.altitude=_a.coords.altitude;this.coords.heading=_a.coords.heading;this.coords.speed=(Number(_a.coords.speed)>0)?_a.coords.speed:undefined;this.coords.accuracy=_a.coords.accuracy;this.coords.altitudeaccuracy=_a.coords.altitudeaccuracy;this._p_timestamp=new Date(_a.timestamp);this._p_sourcetype=_a.sourcetype;}var _c=new nexacro.GeolocationEventInfo("onrecvsuccess",this.coords,this.timestamp,this.sourcetype);this._fire_onrecvsuccess(this,_c);};_pGeolocation._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pGeolocation._onrecverror=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.GeolocationErrorEventInfo("onrecverror",_c.errorcode,_c.errormsg);}}else{_b=new nexacro.GeolocationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);}this._fire_onrecverror(this,_b);};_pGeolocation._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pGeolocation.parmack_Geolocation=function(_a,_b,_c){if(_a==null||_b==null||_c==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}if(nexacro.Device.curDevice==DeviceType.ANDROID){if(_c==1){return ((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000));}else if(_c==2){return ((_a>=0&&_a<3)&&(_b>=200&&_b<=86400000));}}else if(nexacro.Device.curDevice==DeviceType.WINDOWS){if(_c==1){return ((_a==0)&&(_b>=200&&_b<=86400000));}else if(_c==2){return ((_a==0)&&(_b>=200&&_b<=86400000));}}else{if(_c==1){return ((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000));}else if(_c==2){return ((_a>=0&&_a<5)&&(_b>=200&&_b<=86400000));}}return true;};delete _pGeolocation;}if(!nexacro.GeolocationEventInfo){nexacro.GeolocationEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.coords={latitude:Number(_b.latitude),longitude:Number(_b.longitude),altitude:Number(_b.altitude),heading:Number(_b.heading),speed:_b.speed,accuracy:Number(_b.accuracy),altitudeaccuracy:Number(_b.altitudeaccuracy)};this.timestamp=_c;this.sourcetype=_d;};var _pGeolocationEventInfo=nexacro.GeolocationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationEventInfo);_pGeolocationEventInfo._type_name="GeolocationEventInfo";delete _pGeolocationEventInfo;}if(!nexacro.GeolocationErrorEventInfo){nexacro.GeolocationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pGeolocationErrorEventInfo=nexacro.GeolocationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.GeolocationErrorEventInfo);_pGeolocationErrorEventInfo._type_name="GeolocationErrorEventInfo";delete _pGeolocationErrorEventInfo;}if(!nexacro.Acceleration){nexacro.Acceleration=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_xpos=0;this._p_ypos=0;this._p_zpos=0;this._p_timestamp="";this._p_accuracy=0;this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d={id:this._id,div:"Acceleration",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pAcceleration=nexacro.Acceleration.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Acceleration);_pAcceleration._type_name="Acceleration";_pAcceleration.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"Acceleration",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pAcceleration.set_xpos=function(){};_pAcceleration.set_ypos=function(){};_pAcceleration.set_zpos=function(){};_pAcceleration.set_timestamp=function(){};_pAcceleration.set_accuracy=function(){};_pAcceleration._properties=[{name:"xpos"},{name:"ypos"},{name:"zpos"},{name:"timestamp"},{name:"accuracy"}];nexacro._defineProperties(_pAcceleration,_pAcceleration._properties);_pAcceleration.getCurrentAcceleration=function(_a){if(typeof (_a)=="undefined"||_a==null){this._p_accuracy=0;}else{if(this.paramck_accuracy(_a)){if(_a>=0&&_a<=3){this._p_accuracy=_a;}else{return false;}}else{return false;}}var _b=this.parmack_AccelgetCurrentPosition(this._p_accuracy);if(_b==true){var _c={"Accuracy":this._p_accuracy};var _d="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_d=this._p_parent._getWindow().handle;}var _e={id:this._id,windowhandle:_d,div:"Acceleration",method:"getCurrentAcceleration",params:_c};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);return true;}else{return false;}};_pAcceleration.watchStart=function(_a,_b){var _c=this.pramck_AccelwatchStart(_b,_a);if(_c==true){var _d={"IntervalTime":_b,"Accuracy":_a};var _e="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_e=this._p_parent._getWindow().handle;}var _f={id:this._id,windowhandle:_e,div:"Acceleration",method:"watchStart",params:_d};var _g=JSON.stringify(_f);nexacro.Device.exec(_g);return true;}else{return false;}};_pAcceleration.watchStop=function(){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Acceleration",method:"watchStop",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);};_pAcceleration._onrecvsuccess=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){this._p_xpos=parseFloat(_c.xpos);this._p_ypos=parseFloat(_c.ypos);this._p_zpos=parseFloat(_c.zpos);this._p_timestamp=new Date(_c.timestamp);this._p_accuracy=parseFloat(_c.accuracy);_b=new nexacro.AccelerationEventInfo("onrecvsuccess",this);}}else{this._p_xpos=parseFloat(_a.xpos);this._p_ypos=parseFloat(_a.ypos);this._p_zpos=parseFloat(_a.zpos);this._p_timestamp=new Date(_a.timestamp);this._p_accuracy=parseFloat(_a.accuracy);_b=new nexacro.AccelerationEventInfo("onrecvsuccess",this);}this._fire_onrecvsuccess(this,_b);};_pAcceleration._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pAcceleration._onrecverror=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.AccelerationErrorEventInfo("onrecverror",_c.errorcode,_c.errormsg);}}else{_b=new nexacro.AccelerationErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);}this._fire_onrecverror(this,_b);};_pAcceleration._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pAcceleration.paramck_accuracy=function(_a){if(_a==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.parmack_AccelgetCurrentPosition=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}return true;};_pAcceleration.pramck_AccelwatchStart=function(_a,_b){if(_a==null){return false;}if(_b==null){return false;}if((_b>=0&&_b<=3)&&(_a>=200&&_a<=86400000)){}else{return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};delete _pAcceleration;}if(!nexacro.AccelerationEventInfo){nexacro.AccelerationEventInfo=function(_a,_b){this.eventid=_a;this.xpos=_b.xpos;this.ypos=_b.ypos;this.zpos=_b.zpos;this.timestamp=_b.timestamp;this.accuracy=_b.accuracy;};var _pAccelerationEventInfo=nexacro.AccelerationEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationEventInfo);_pAccelerationEventInfo._type_name="AccelerationEventInfo";delete _pAccelerationEventInfo;}if(!nexacro.AccelerationErrorEventInfo){nexacro.AccelerationErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pAccelerationErrorEventInfo=nexacro.AccelerationErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.AccelerationErrorEventInfo);_pAccelerationErrorEventInfo._type_name="AccelerationErrorEventInfo";delete _pAccelerationErrorEventInfo;}if(!nexacro.Vibrator){nexacro.Vibrator=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_repeatcount="1";this._p_patterns=new Array(100,100);this._p_startpos="0";this.enableevent=true;this._event_list={"onplay":1,"onstop":1,"onerror":1};this.onplay=null;this.onstop=null;this.onerror=null;var _c='""';var _d={"id":this._id,"div":"Vibrator","method":"constructor","params":JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pVibrator=nexacro.Vibrator.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Vibrator);_pVibrator._type_name="Vibrator";_pVibrator.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={"id":this._id,"div":"Vibrator","method":"destroy","params":JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pVibrator.set_repeatcount=function(_a){if(this.paramck_vibrepeatcount(_a)){this._p_repeatcount=_a;return true;}return false;};_pVibrator.set_patterns=function(_a){if(this.paramck_vibpattern(_a)){this._p_patterns=_a;return true;}return false;};_pVibrator.set_startpos=function(_a){if(this.paramck_vibstartpos(_a)){this._p_startpos=_a;return true;}return false;};_pVibrator._properties=[{name:"repeatcount"},{name:"patterns"},{name:"startpos"}];nexacro._defineProperties(_pVibrator,_pVibrator._properties);_pVibrator.hasVibrator=function(){if(nexacro.Device.curDevice==DeviceType.ANDROID){var _a="hasVibrator";return nexacro.Device.exec(_a);}else{return (nexacro.Device.isphone==1);}};_pVibrator.play=function(){var _a;if(nexacro.Device.curDevice==DeviceType.ANDROID){if(this._p_startpos<this._p_patterns.length&&this._p_startpos>=0){var _b=[];var _c=0;if(Number(this._p_startpos)%2!=0){_b[0]=0;_c++ ;}var _d=this._p_patterns.length;for(var _g=this._p_startpos;_g<_d;_g++ ){_b[_c]=this._p_patterns[_g];_c++ ;}_a={"turn":this._p_repeatcount,"delay":_b};}else{return this._onerror({errorcode:'00001',errormsg:'parameter error'});}}else{_a={"turn":this._p_repeatcount,"delay":this._p_patterns,"startpos":this._p_startpos};if(nexacro.Device.isphone!=DeviceType.IOS){return this._onerror({errorcode:'10001',errormsg:'Unsupported device Vibrator'});}}var _e={"id":this._id,"div":"Vibrator","method":"play","params":_a};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);};_pVibrator.stop=function(){var _a='""';var _b={"id":this._id,"div":"Vibrator","method":"stop","params":JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pVibrator._onplay=function(_a){var _b=new nexacro.VibratorEventInfo("onplay");this._fire_onplay(this,_b);};_pVibrator._fire_onplay=function(_a,_b){if(this.onplay&&this.onplay._has_handlers){return this.onplay._fireEvent(this,_b);}return true;};_pVibrator._onstop=function(_a){var _b=new nexacro.VibratorEventInfo("onstop");this._fire_onstop(this,_b);};_pVibrator._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pVibrator._onerror=function(_a){var _b=new nexacro.VibratorErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pVibrator._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pVibrator.paramck_vibstartpos=function(_a){if(!nexacro.Device.publicNumCheck(_a)||Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibrepeatcount=function(_a){if(!nexacro.Device.publicNumCheck(_a)){return false;}if(Number(_a)<0){return false;}return true;};_pVibrator.paramck_vibpattern=function(_a){if(_a instanceof Array){if(_a.length<=100){for(var _b=0;_b<_a.length;_b++ ){if(!nexacro.Device.publicNumCheck(_a[_b])){return false;}if(_a[_b]<1){return false;}}}else{return false;}if(_a.length%2!=0){return false;}}else{return false;}return true;};delete _pVibrator;}if(!nexacro.VibratorEventInfo){nexacro.VibratorEventInfo=function(_a){this.eventid=_a;};var _pVibratorEventInfo=nexacro.VibratorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorEventInfo);_pVibratorEventInfo._type_name="VibratorEventInfo";delete _pVibratorEventInfo;}if(!nexacro.VibratorErrorEventInfo){nexacro.VibratorErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pVibratorErrorEventInfo=nexacro.VibratorErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.VibratorErrorEventInfo);_pVibratorErrorEventInfo._type_name="VibratorErrorEventInfo";delete _pVibratorErrorEventInfo;}if(!nexacro.Network){nexacro.Network=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_availabletype="";this._p_timestamp="";this.enableevent=true;this._event_list={"onrecvsuccess":1,"onrecverror":1};this.onrecvsuccess=null;this.onrecverror=null;var _c='""';var _d={id:this._id,div:"Network",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pNetwork=nexacro.Network.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Network);_pNetwork._type_name="Network";_pNetwork.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"Network",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pNetwork.set_availabletype=function(){};_pNetwork.set_timestamp=function(){};_pNetwork._properties=[{name:"availabletype"},{name:"timestamp"}];nexacro._defineProperties(_pNetwork,_pNetwork._properties);_pNetwork.isReachable=function(_a){var _b;if(_a==null){return false;}var _c=this.paramck_isReachable(_a);if(_c==true){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){this.url=_a||"";_b={"url":this.url};}else{_b={"target":_a};this._p_availabletype="availabletype";this._p_timestamp="timestamp";}var _d="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_d=this._p_parent._getWindow().handle;}var _e={id:this._id,windowhandle:_d,div:"Network",method:"isReachable",params:_b};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);return true;}else{return false;}};_pNetwork.watchStart=function(_a){var _b;var _c=this.paramck_watchStart(_a);if(_c==true){if(nexacro.Device.curDevice==DeviceType.ANDROID||nexacro.Device.curDevice==DeviceType.WINDOWS){this.intervalTime=_a||"";_b={"target":this.intervalTime};}else{_b={"target":_a};}var _d="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_d=this._p_parent._getWindow().handle;}var _e={id:this._id,windowhandle:_d,div:"Network",method:"watchStart",params:_b};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);return true;}else{return false;}};_pNetwork.watchStop=function(){var _a='""';var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this.parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Network",method:"watchStop",params:JSON.parse(_a)};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);};_pNetwork._onrecvsuccess=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){this._p_availabletype=parseInt(_c.availabletype)|0;this._p_timestamp=new Date(_c.timestamp);_b=new nexacro.NetworkEventInfo("onrecvsuccess");}}else{this._p_availabletype=parseInt(_a.availabletype)|0;this._p_timestamp=new Date(_a.timestamp);_b=new nexacro.NetworkEventInfo("onrecvsuccess");}this._fire_onrecvsuccess(this,_b);};_pNetwork._fire_onrecvsuccess=function(_a,_b){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){return this.onrecvsuccess._fireEvent(this,_b);}return true;};_pNetwork._onrecverror=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.NetworkErrorEventInfo("onrecverror",_c.errorcode,_c.errormsg);}}else{_b=new nexacro.NetworkErrorEventInfo("onrecverror",_a.errorcode,_a.errormsg);}this._fire_onrecverror(this,_b);};_pNetwork._fire_onrecverror=function(_a,_b){if(this.onrecverror&&this.onrecverror._has_handlers){return this.onrecverror._fireEvent(this,_b);}return true;};_pNetwork.paramck_isReachable=function(_a){if(_a.trim().length<1||typeof (_a)!="string"||_a==""){return false;}return true;};_pNetwork.paramck_watchStart=function(_a){if(_a==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};delete _pNetwork;}if(!nexacro.NetworkEventInfo){nexacro.NetworkEventInfo=function(_a){this.eventid=_a;};var _pNetworkEventInfo=nexacro.NetworkEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkEventInfo);_pNetworkEventInfo._type_name="NetworkEventInfo";delete _pNetworkEventInfo;}if(!nexacro.NetworkErrorEventInfo){nexacro.NetworkErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pNetworkErrorEventInfo=nexacro.NetworkErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.NetworkErrorEventInfo);_pNetworkErrorEventInfo._type_name="NetworkErrorEventInfo";delete _pNetworkErrorEventInfo;}if(!nexacro.FileDialog){nexacro.FileDialogEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.path=_c;this.virtualfiles=_d;};var _pFileDialogEventInfo=nexacro.FileDialogEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.FileDialogEventInfo);_pFileDialogEventInfo._type_name="FileDialogEventInfo";delete _pFileDialogEventInfo;_pFileDialogEventInfo=null;nexacro.FileDialog=function(_a,_b){this.id=this._p_name=_a;this.EnvironmentPath=1;this._handle=nexacro._createFileDialogHandle(this);};var _pFileDialog=nexacro.FileDialog.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.FileDialog);_pFileDialog._type_name="FileDialog";_pFileDialog._p_accept="";_pFileDialog._p_defaultextension=true;_pFileDialog._p_dialogtype=undefined;_pFileDialog._p_filter="";_pFileDialog._p_filterindex=0;_pFileDialog._event_list={"onclose":1};nexacro.FileDialog.LOAD=1;nexacro.FileDialog.SAVE=2;nexacro.FileDialog.MULTILOAD=3;nexacro.FileDialog.SELFOLDER=4;_pFileDialog.destroy=function(){nexacro._destroyFileDialogHandle(this);this._handle=null;return true;};_pFileDialog.set_accept=function(_a){_a=nexacro._toString(_a);if(this._p_accept!=_a){this._p_accept=_a;this.on_apply_accept();}};_pFileDialog.on_apply_accept=function(){nexacro._setFileDialogHandleAccept(this,this._p_accept);};_pFileDialog.set_defaultextension=function(_a){_a=nexacro._toBoolean(_a);if(this._p_defaultextension!=_a){this._p_defaultextension=_a;this.on_apply_defaultextension();}};_pFileDialog.on_apply_defaultextension=function(){nexacro._setFileDialogHandleDefaultExtension(this,this._p_defaultextension);};_pFileDialog.set_dialogtype=function(_a){if(this._p_dialogtype!=_a){this._p_dialogtype=_a;}};_pFileDialog.set_filter=function(_a){_a=nexacro._toString(_a);if(this._p_filter!=_a){if(this._isValidPropertyFilter(_a)){this._p_filter=_a;this.on_apply_filter();}}};_pFileDialog.on_apply_filter=function(){nexacro._setFileDialogHandleFilter(this,this._p_filter);};_pFileDialog.set_filterindex=function(_a){if(isNaN(_a= +_a)||_a<0){return;}if(this._p_filterindex!=_a){this._p_filterindex=_a;this.on_apply_filterindex();}};_pFileDialog.on_apply_filterindex=function(){nexacro._setFileDialogHandleFilterIndex(this,this._p_filterindex);};_pFileDialog._properties=[{name:"accept"},{name:"defaultextension"},{name:"dialogtype "},{name:"filter"},{name:"filterindex"}];nexacro._defineProperties(_pFileDialog,_pFileDialog._properties);_pFileDialog.open=function(_a,_b,_c,_d){if(isNaN(_b= +_b)||(_b<1||_b>4)){return;}_a=_a?_a:this.id;_c=_c?_c:"%USERAPP%";_d=_d?_d:"";var _e=this._p_filter?this._p_filter:"All(*.*)|*.*|";var _f=_e.split("|");if(this._p_filter==""){nexacro._setFileDialogHandleFilter(this,"All(*.*)|*.*|");}if(this._p_defaultextension&&this._p_filterindex>=(_f.length/2)){return false;}nexacro._openFileDialogHandle(this,_a,_b,_c,_d,this._p_dialogtype);return true;};_pFileDialog.on_close=function(_a,_b,_c){this.on_fire_onclose(_a,_b,_c);};_pFileDialog._onclose=function(_a){var _b=_a.virtualfiles;var _c=new Array(_b.length);for(var _e=0;_e<_b.length;_e++ ){var _d=new nexacro.VirtualFile("VirtualFile","");_d.filename=_b[_e].filename;_d.fullpath=_b[_e].fullpath;_d.path=_b[_e].path;_c[_e]=_d;}this.on_fire_onclose(_a.reason,_a.reason==4?_a.path:undefined,_c);};_pFileDialog.on_fire_onclose=function(_a,_b,_c){if(this.onclose&&this.onclose._has_handlers){var _d=new nexacro.FileDialogEventInfo("onclose",_a,_b,_c);return this.onclose._fireEvent(this,_d);}return true;};_pFileDialog._isValidPropertyFilter=function(_a){if(_a===""){return true;}var _b=_a.split("|");var _c=_b.length;if(_c<2){return false;}if((_c%2==1)&&_b[_c -1]!=""){return false;}var _d=/[\*].[a-zA-Z0-9가-힣\*]/gi;for(var _e=0;_e<_c;_e++ ){if(_e%2==1){if(_d.test(_b[_e])==false){return false;}_d.lastIndex=0;}}return true;};delete _pFileDialog;}if(!nexacro.Camera){nexacro.Camera=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_imagequality="100";this._p_imagewidth="0";this._p_imageheight="0";this._p_encodingtype="JPEG";this._p_gettype="url";this._p_usegallery=true;this.enableevent=true;this._event_list={"oncapture":1,"onerror":1};this.oncapture=null;this.onerror=null;var _c='""';var _d={"id":this._id,"div":"Camera","method":"constructor","params":_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pCamera=nexacro.Camera.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Camera);_pCamera._type_name="Camera";_pCamera.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={"id":this._id,"div":"Camera","method":"destroy","params":JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pCamera.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imagequality=100;}else{if(_a>=0&&_a<=100){this._p_imagequality=_a;}else{return false;}}return true;};_pCamera.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imagewidth=0;}else{if(_a>=0){this._p_imagewidth=_a;}else{return false;}}return true;};_pCamera.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imageheight=0;}else{if(_a>=0){this._p_imageheight=_a;}else{return false;}}return true;};_pCamera.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_encodingtype="JPEG";}else{if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this._p_encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this._p_encodingtype="PNG";}else{return false;}}return true;};_pCamera.set_gettype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_gettype="url";}else{if(_a.toLowerCase()=="url"){this._p_gettype="url";}else if(_a.toLowerCase()=="imagedata"){this._p_gettype="imagedata";}else{return false;}}return true;};_pCamera.set_usegallery=function(_a){if(typeof (_a)=="string"){if(_a.toUpperCase()=="TRUE"){this._p_usegallery=true;}else{this._p_usegallery=false;}}else{this._p_usegallery=_a?true:false;}};_pCamera._properties=[{name:"imagequality"},{name:"imagewidth"},{name:"imageheight"},{name:"encodingtype"},{name:"gettype"},{name:"usegallery"}];nexacro._defineProperties(_pCamera,_pCamera._properties);_pCamera.takePicture=function(){if(this.paramck_takePicture(this._p_imagequality,this._p_imagewidth,this._p_imageheight,this._p_encodingtype,this._p_gettype)){var _a={quality:this._p_imagequality.toString(),width:this._p_imagewidth.toString(),height:this._p_imageheight.toString(),encodingType:this._p_encodingtype.toString(),gettype:this._p_gettype.toString(),usegallery:this._p_usegallery};var _b="0";if(nexacro.Device.curDevice==DeviceType.WINDOWS){_b=this._p_parent._getWindow().handle;}var _c={id:this._id,windowhandle:_b,div:"Camera",method:"takePicture",params:_a};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);}};_pCamera._oncapture=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.CameraEventInfo("oncapture",_c.reason,_c.url,_c.imagedata,_c.imagewidth,_c.imageheight);}}else{_b=new nexacro.CameraEventInfo("oncapture",_a.reason,_a.url,_a.imagedata,_a.imagewidth,_a.imageheight);}this._fire_oncapture(this,_b);};_pCamera._fire_oncapture=function(_a,_b){if(this.oncapture&&this.oncapture._has_handlers){return this.oncapture._fireEvent(this,_b);}return true;};_pCamera._onerror=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.WINDOWS&&typeof _a=="string"){var _c=JSON.parse(_a);if(_c){_b=new nexacro.CameraErrorEventInfo("onerror",_c.errorcode,_c.errormsg);}}else{_b=new nexacro.CameraErrorEventInfo("onerror",_a.errorcode,_a.errormsg);}this._fire_onerror(this,_b);};_pCamera._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pCamera.paramck_takePicture=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(typeof (_e)!="string"){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};delete _pCamera;}if(!nexacro.CameraEventInfo){nexacro.CameraEventInfo=function(_a,_b,_c,_d,_e,_f){this.eventid=_a;this.reason=_b;this.url=_c;this.imagedata=_d;this.imagewidth=_e;this.imageheight=_f;};var _pCameraEventInfo=nexacro.CameraEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraEventInfo);_pCameraEventInfo._type_name="CameraEventInfo";delete _pCameraEventInfo;}if(!nexacro.CameraErrorEventInfo){nexacro.CameraErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pCameraErrorEventInfo=nexacro.CameraErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.CameraErrorEventInfo);_pCameraErrorEventInfo._type_name="CameraErrorEventInfo";delete _pCameraErrorEventInfo;}if(!nexacro.ImagePicker){nexacro.ImagePicker=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_imagequality="100";this._p_imagewidth="0";this._p_imageheight="0";this._p_encodingtype="JPEG";this._p_gettype="url";this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d={id:this._id,div:nexacro.Device.curDevice==DeviceType.ANDROID?"ImagePicker":"Camera",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pImagePicker=nexacro.ImagePicker.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ImagePicker);_pImagePicker._type_name="ImagePicker";_pImagePicker.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:nexacro.Device.curDevice==DeviceType.ANDROID?"ImagePicker":"Camera",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pImagePicker.set_imagequality=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imagequality=100;}else{if(_a>=0&&_a<=100){this._p_imagequality=_a;}else{return false;}}return true;};_pImagePicker.set_imagewidth=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imagewidth=0;}else{if(_a>=0){this._p_imagewidth=_a;}else{return false;}}return true;};_pImagePicker.set_imageheight=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_imageheight=0;}else{if(_a>=0){this._p_imageheight=_a;}else{return false;}}return true;};_pImagePicker.set_encodingtype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_encodingtype="JPEG";}else{if(_a==0){this._p_encodingtype="JPEG";}else if(_a==1){this._p_encodingtype="PNG";}else if(_a=="JPEG"||_a.toUpperCase()=="JPEG"){this._p_encodingtype="JPEG";}else if(_a=="PNG"||_a.toUpperCase()=="PNG"){this._p_encodingtype="PNG";}else{return false;}}return true;};_pImagePicker.set_gettype=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){this._p_gettype="url";}else{if(_a==0){this._p_gettype="url";}else if(_a==1){this._p_gettype="imagedata";}else if(_a.toLowerCase()=="url"){this._p_gettype="url";}else if(_a.toLowerCase()=="imagedata"){this._p_gettype="imagedata";}else{return false;}}return true;};_pImagePicker._properties=[{name:"imagequality"},{name:"imagewidth"},{name:"imageheight"},{name:"encodingtype"},{name:"gettype"}];nexacro._defineProperties(_pImagePicker,_pImagePicker._properties);_pImagePicker.open=function(_a,_b){if(_a!=null&&(typeof (_a)=="string"&&((_a.toLowerCase()=="url")||(_a.toLowerCase()=="imagedata")))||((_a==0)||(_a==1)||(_a=="0")||(_a=="1"))){this.gettype=_a;}else{return false;}if(_b!=null&&(typeof (_b)=="string"&&((_b.toUpperCase()=="JPEG")||(_b.toUpperCase()=="PNG")))||((_b==0)||(_b==1)||(_b=="0")||(_b=="1"))){this.encodingtype=_b;}else{return false;}if(this.paramck_ImagePicker_asyncOpen(this._p_imagequality,this._p_imagewidth,this._p_imageheight,this._p_encodingtype,this._p_gettype)){var _c={quality:this._p_imagequality.toString(),width:this._p_imagewidth.toString(),height:this._p_imageheight.toString(),encodingType:this._p_encodingtype.toString(),gettype:this._p_gettype.toString()};var _d={id:this._id,div:nexacro.Device.curDevice==DeviceType.ANDROID?"ImagePicker":"Camera",method:"open",params:_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);return true;}else{return false;}};_pImagePicker._onsuccess=function(_a){var _b=new nexacro.ImagePickerEventInfo("onsuccess",_a.url,_a.imagedata,_a.imagefile);this._fire_onsuccess(this,_b);};_pImagePicker._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pImagePicker._onerror=function(_a){var _b=new nexacro.ImagePickerErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pImagePicker._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pImagePicker.paramck_ImagePicker_asyncOpen=function(_a,_b,_c,_d,_e){if(_a!=null){if(!nexacro.Device.publicNumCheck(_a)){return false;}}if(_b!=null){if(!nexacro.Device.publicNumCheck(_b)){return false;}}if(_c!=null){if(!nexacro.Device.publicNumCheck(_c)){return false;}}if(_e!=null){if(typeof (_e)!="string"){return false;}}if(_d!=null){if(typeof (_d)!="string"){return false;}}return true;};delete _pImagePicker;}if(!nexacro.ImagePickerEventInfo){nexacro.ImagePickerEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.imageurl=_b;this.imagedata=_c;this.imagefile=_d;};var _pImagePickerEventInfo=nexacro.ImagePickerEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerEventInfo);_pImagePickerEventInfo._type_name="ImagePickerEventInfo";delete _pImagePickerEventInfo;}if(!nexacro.ImagePickerErrorEventInfo){nexacro.ImagePickerErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pImagePickerErrorEventInfo=nexacro.ImagePickerErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ImagePickerErrorEventInfo);_pImagePickerErrorEventInfo._type_name="ImagePickerErrorEventInfo";delete _pImagePickerErrorEventInfo;}if(!nexacro.AudioRecorder){nexacro.AudioRecorder=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._refform=_b;this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.brecording=false;this.bpaused=false;this.reccurtime="";this._p_audiofile="";this._p_samplerate=8000;this._p_channelconfig=1;if(nexacro.Device.curDevice==DeviceType.ANDROID){this._p_audioformat="mp3";}else{this._p_audioformat="wav";}this.enableevent=true;this._is_alive=true;this._event_list={"onrecord":1,"onrecording":1,"onstop":1,"onerror":1};this.onrecord=null;this.onrecording=null;this.onstop=null;this.onerror=null;var _c='""';var _d={id:this._id,div:"AudioRecorder",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pAudioRecorder=nexacro.AudioRecorder.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.AudioRecorder);_pAudioRecorder._type_name="AudioRecorder";_pAudioRecorder.destroy=function(){this._is_alive=false;delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"AudioRecorder",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pAudioRecorder._getReferenceContext=function(){return this._refform;};_pAudioRecorder.set_audiofile=function(_a){if(typeof (_a)=="undefined"||_a==null||_a==""){return false;}else{this._p_audiofile=_a;}return true;};_pAudioRecorder.set_samplerate=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if(nexacro.Device.publicNumCheck(_a)){if(_a>=8000&&_a<=96000){this._p_samplerate=_a;}else{return false;}}else{return false;}}return true;};_pAudioRecorder.set_channelconfig=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{if(_a==1||_a==2){this._p_channelconfig=_a;}else{return false;}}return true;};_pAudioRecorder.set_audioformat=function(_a){if(typeof (_a)=="undefined"||_a==null){return false;}else{var _b=_a.lastIndexOf(".");var _c=_a.substring(_b,_a.length).toUpperCase();if(nexacro.Device.curDevice==DeviceType.ANDROID){if(_c=="OGG"||_c=="AMR_NB"||_c=="AMR_WB"||_c=="MP3"){this._p_audioformat=_a.toUpperCase();}else{return false;}}else{if(_c=="WAV"){this._p_audioformat="WAV";}else{return false;}}}return true;};_pAudioRecorder._properties=[{name:"audiofile"},{name:"samplerate"},{name:"channelconfig"},{name:"audioformat"}];nexacro._defineProperties(_pAudioRecorder,_pAudioRecorder._properties);_pAudioRecorder.recordingStart=function(_a){var _b;if(typeof (_a)=="undefined"||_a==null||_a==""){return false;}if(nexacro.Device.publicNumCheck(_a)&&_a<=86400000&&_a>=0){if(_a<200){return false;}else{_b=0;}}else{return false;}if(this.brecording==true){nexacro._OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1301","Already recording");this._fire_onerror(this,_j);},20);return false;}if(this._p_audiofile==""||typeof (this._p_audiofile)=="undefined"){nexacro._OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _c,_d,_e;if(nexacro.Device.curDevice==DeviceType.ANDROID){var _f="";var _g="";_d=this.audiofile.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_f=1;_g=this._p_audiofile.substring(9,this._p_audiofile.length);}else if(_d.toLowerCase()=="%sd_card%"){_f=2;_g=this._p_audiofile.substring(9,this._p_audiofile.length);}else{nexacro._OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _e={audiofile:_g,samplerate:this.samplerate,channelconfig:this.channelconfig,audioFormat:this.audioformat,EnvironmentPath:_f,playingeventtime:_a,intervaltimestate:_b};_c={id:this._id,div:"AudioRecorder",method:"recordingStart",params:_e};}else{var _h="";_d=this._p_audiofile.substring(0,9);if(_d.toLowerCase()=="%userapp%"){_h="_userapp_"+this._p_audiofile.substring(9,this._p_audiofile.length);}else{nexacro._OnceCallbackTimer.callonce(this,function(){var _j=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1304","Recording Setting Error");this._fire_onerror(this,_j);},20);return false;}var _e={audiofile:_h,samplerate:this._p_samplerate,channelconfig:this._p_channelconfig,audioFormat:this._p_audioformat,playingeventtime:_a,intervaltimestate:_b};_c={id:this._id,div:"Sound",method:"recordingStart",params:_e};}var _i=JSON.stringify(_c);nexacro.Device.exec(_i);return true;};_pAudioRecorder.recordingStop=function(){if(this.brecording==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:nexacro.Device.curDevice==DeviceType.ANDROID?"AudioRecorder":"Sound",method:"recordingStop",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pAudioRecorder.pause=function(){if(nexacro.Device.curDevice==DeviceType.IOS){if(this.brecording==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_d);},20);return;}if(this.bpaused==true){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1303","Already paused");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:"Sound",method:"recpause",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);}};_pAudioRecorder.resume=function(){if(nexacro.Device.curDevice==DeviceType.IOS){if(this.brecording==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror","","0","1302","Not recording");this._fire_onerror(this,_d);},20);return;}if(this.bpaused==false){nexacro._OnceCallbackTimer.callonce(this,function(){var _d=new nexacro.AudioErrorEventInfo("onerror",this._p_audiofile,this.reccurtime,"1011","Not paused");this._fire_onerror(this,_d);},20);return;}var _a='""';var _b={id:this._id,div:"Sound",method:"recresume",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);}};_pAudioRecorder._onrecording=function(_a){this.brecording=true;this.bpaused=false;this.reccurtime=_a.curtime;var _b=new nexacro.AudioEventInfo("onrecording",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onrecording(this,_b);};_pAudioRecorder._fire_onrecording=function(_a,_b){if(this.onrecording&&this.onrecording._has_handlers){return this.onrecording._fireEvent(this,_b);}return true;};_pAudioRecorder._onstop=function(_a){if(_a.reason=="5"){this.brecording=false;this.bpaused=false;}else if(_a.reason=="6"){this.brecording=true;this.bpaused=true;}var _b=new nexacro.AudioEventInfo("onstop",_a.reason,_a.url,_a.playtime,_a.curtime,null,null,null);this._fire_onstop(this,_b);};_pAudioRecorder._fire_onstop=function(_a,_b){if(this.onstop&&this.onstop._has_handlers){return this.onstop._fireEvent(this,_b);}return true;};_pAudioRecorder._onerror=function(_a){var _b=new nexacro.AudioErrorEventInfo("onerror",_a.url,_a.curtime,_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pAudioRecorder._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};delete _pAudioRecorder;}if(!nexacro.ContactSet){nexacro.ContactSet=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.isRunning=false;this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d={id:this._id,div:"ContactSet",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pContactSet=nexacro.ContactSet.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactSet);_pContactSet._type_name="ContactSet";_pContactSet.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"ContactSet",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pContactSet.query=function(_a,_b){if(typeof (_a)=="undefined"||_a==""){return false;}if(!(nexacro.Device.pramck_contactString(_a))){return false;}if(_b==null||typeof (_b)=="undefined"){_b=-1;}else{var _c;try{_c=Number(_b.toString());}catch(e){return false;}var _d= +_c;if(_d!=_d){return false;}if(_b==0||_b<-1){return false;}}var _e=_a.split(";");if(_e.length<1){return false;}for(var _k=0;_k<_e.length;_k++ ){var _f=_e[_k].split(":");if(_f.length<2){return false;}else{var _g=_f[0].toLowerCase();if(_e.length==1){if(!(_g=="all"||_g=="uniqueid"||_g=="categories"||_g=="birthday"||_g=="contactname"||_g=="nickname"||_g=="note"||_g=="phonenumbers"||_g=="emails"||_g=="ims"||_g=="urls"||_g=="addresses"||_g=="organizations")){return false;}}else{if(!(_g=="uniqueid"||_g=="categories"||_g=="birthday"||_g=="contactname"||_g=="nickname"||_g=="note"||_g=="phonenumbers"||_g=="emails"||_g=="ims"||_g=="urls"||_g=="addresses"||_g=="organizations")){return false;}}}if(_f[1].split(" ").join("").length==0){return false;}}if(nexacro.Device.curDevice==DeviceType.IOS){_a=_a.replace(/\?/g,"_QUESTION_");}if(this.isRunning){return false;}this.isRunning=true;var _h={strQueryInfo:_a,nResultCnt:_b};var _i={id:this._id,div:"ContactSet",method:"query",params:_h};var _j=JSON.stringify(_i);nexacro.Device.exec(_j);return true;};_pContactSet.append=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}if(this.isRunning){return false;}this.isRunning=true;var _b=_a.toJson();var _c={id:this._id,div:"ContactSet",method:"append",params:_b};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);return true;};_pContactSet.update=function(_a){if(!(_a instanceof nexacro.Contact)){return false;}if(this.typeCheck(_a)==false){return false;}if(this.isRunning){return false;}this.isRunning=true;var _b=_a.toJson();var _c={id:this._id,div:"ContactSet",method:"update",params:_b};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);return true;};_pContactSet.remove=function(_a){if(typeof (_a)=="undefined"){return false;}if(_a!=null){var _b= +_a;if((_b!=_b)||_a<0){return false;}}if(this.isRunning){return false;}this.isRunning=true;var _c={strUniqueID:_a};var _d={id:this._id,div:"ContactSet",method:"remove",params:_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);return true;};_pContactSet._onsuccess=function(_a){this.isRunning=false;var _b;if(nexacro.Device.curDevice==DeviceType.ANDROID){var _c="";var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m="";var _n="";var _o="";var _p="";var _q="";var _r="";var _s="";var _t="";var _u="";var _v=[];for(var _ag=0;_ag<_a.length;_ag++ ){if(typeof (_a[_ag].contacts)!="undefined"){if(typeof (_a[_ag].contacts.uniqueid)!="undefined"){_d=_a[_ag].contacts.uniqueid;}if(typeof (_a[_ag].contacts.contactname)!="undefined"){if(typeof (_a[_ag].contacts.contactname.displayname)!="undefined"){_e=_a[_ag].contacts.contactname.displayname;}if(typeof (_a[_ag].contacts.contactname.familyname)!="undefined"){_f=_a[_ag].contacts.contactname.familyname;}if(typeof (_a[_ag].contacts.contactname.givenname)!="undefined"){_g=_a[_ag].contacts.contactname.givenname;}if(typeof (_a[_ag].contacts.contactname.middlename)!="undefined"){_h=_a[_ag].contacts.contactname.middlename;}if(typeof (_a[_ag].contacts.contactname.prefix)!="undefined"){_i=_a[_ag].contacts.contactname.prefix;}if(typeof (_a[_ag].contacts.contactname.suffix)!="undefined"){_j=_a[_ag].contacts.contactname.suffix;}}if(typeof (_a[_ag].contacts.nickname)!="undefined"){_k=_a[_ag].contacts.nickname;}if(typeof (_a[_ag].contacts.birthday)!="undefined"){_l=new Date(_a[_ag].contacts.birthday);}if(typeof (_a[_ag].contacts.note)!="undefined"){_m=_a[_ag].contacts.note;}var _w;if(typeof (_a[_ag].contacts.phonenumbers)!="undefined"){_n=new Array(_a[_ag].contacts.phonenumbers.length);for(_w=0;_w<_a[_ag].contacts.phonenumbers.length;_w++ ){var _x=new nexacro.ContactField("",_a[_ag].contacts.phonenumbers[_w].type,_a[_ag].contacts.phonenumbers[_w].value,_a[_ag].contacts.phonenumbers[_w].label,"");_n[_w]=_x;}}else{_n=new nexacro.ContactField("","","","","");}if(typeof (_a[_ag].contacts.emails)!="undefined"){_o=new Array(_a[_ag].contacts.emails.length);for(_w=0;_w<_a[_ag].contacts.emails.length;_w++ ){var _y=new nexacro.ContactField("",_a[_ag].contacts.emails[_w].type,_a[_ag].contacts.emails[_w].value,_a[_ag].contacts.emails[_w].label,"");_o[_w]=_y;}}else{_o=new nexacro.ContactField("","","","","");}if(typeof (_a[_ag].contacts.ims)!="undefined"){_p=new Array(_a[_ag].contacts.ims.length);for(_w=0;_w<_a[_ag].contacts.ims.length;_w++ ){var _z=new nexacro.ContactIM("",_a[_ag].contacts.ims[_w].type,_a[_ag].contacts.ims[_w].value,_a[_ag].contacts.ims[_w].label,_a[_ag].contacts.ims[_w].protocoltype,_a[_ag].contacts.ims[_w].protocollabel,"");_p[_w]=_z;}}else{_p=new nexacro.ContactIM("","","","","","","");}if(typeof (_a[_ag].contacts.categories)!="undefined"){_q=new Array(_a[_ag].contacts.categories.length);for(_w=0;_w<_a[_ag].contacts.categories.length;_w++ ){var _aa=new nexacro.ContactField("",_a[_ag].contacts.categories[_w].type,_a[_ag].contacts.categories[_w].value,_a[_ag].contacts.categories[_w].label,"");_q[_w]=_aa;}}else{_q=new nexacro.ContactField("","","","","");}if(typeof (_a[_ag].contacts.urls)!="undefined"){_r=new Array(_a[_ag].contacts.urls.length);for(_w=0;_w<_a[_ag].contacts.urls.length;_w++ ){var _ab=new nexacro.ContactField("",_a[_ag].contacts.urls[_w].type,_a[_ag].contacts.urls[_w].value,_a[_ag].contacts.urls[_w].label,"");_r[_w]=_ab;}}else{_r=new nexacro.ContactField("","","","","");}if(typeof (_a[_ag].contacts.addresses)!="undefined"){_s=new Array(_a[_ag].contacts.addresses.length);for(_w=0;_w<_a[_ag].contacts.addresses.length;_w++ ){var _ac=new nexacro.ContactAddress("",_a[_ag].contacts.addresses[_w].type,_a[_ag].contacts.addresses[_w].country,_a[_ag].contacts.addresses[_w].postcode,_a[_ag].contacts.addresses[_w].city,_a[_ag].contacts.addresses[_w].region,_a[_ag].contacts.addresses[_w].street,_a[_ag].contacts.addresses[_w].label,"");_s[_w]=_ac;}}else{_s=new nexacro.ContactAddress("","","","","","","","","");}if(typeof (_a[_ag].contacts.organizations)!="undefined"){_t=new Array(_a[_ag].contacts.organizations.length);for(_w=0;_w<_a[_ag].contacts.organizations.length;_w++ ){var _ad=new nexacro.ContactOrganization("",_a[_ag].contacts.organizations[_w].type,_a[_ag].contacts.organizations[_w].company,_a[_ag].contacts.organizations[_w].department,_a[_ag].contacts.organizations[_w].title,_a[_ag].contacts.organizations[_w].label,"");_t[_w]=_ad;}}else{_t=new nexacro.ContactOrganization("","","","","","","");}if(typeof (_a[_ag].contacts.photos)!="undefined"){_u=new Array(_a[_ag].contacts.photos.length);for(_w=0;_w<_a[_ag].contacts.photos.length;_w++ ){var _ae=new nexacro.ContactPhoto("",_a[_ag].contacts.photos[_w].imagedata,_a[_ag].contacts.photos[_w].label,"");_u[_w]=_ae;}}else{_u=new nexacro.ContactPhoto("","","","");}var _af=new nexacro.Contact("",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,"");_v[_ag]=_af;}if(nexacro.Device.curDevice==DeviceType.ANDROID){_c=_a[_ag].reason;}else{_c=_a.reason;}}_b=new nexacro.ContactSetEventInfo("onsuccess",_c,_v);}else{_a.contacts=this.makeContacts(_a.contacts);_b=new nexacro.ContactSetEventInfo("onsuccess",_a.reason,_a.contacts);}this._fire_onsuccess(this,_b);};_pContactSet._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pContactSet._onerror=function(_a){this.isRunning=false;var _b=new nexacro.ContactSetErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pContactSet._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pContactSet.makeContacts=function(_a){var _b=_a;var _c=nexacro._executeGlobalEvalStr("("+_b+")");var _d=_c.contact;var _e=[];for(var _z=0;_z<_d.length;_z++ ){var _f=_d[_z];var _g=[];var _h=_f.phonenumbers;var _i;var _j;for(_i=0;_i<_h.length;_i++ ){var _k=new nexacro.ContactField("",_h[_i].type,_h[_i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),_h[_i].label,"");_g[_i]=_k;}var _l=[];var _m=_f.categories;for(_i=0;_i<_m.length;_i++ ){_j=new nexacro.ContactField("",_m[_i].type,_m[_i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),_m[_i].label,"");_l[_i]=_j;}var _n=[];var _o=_f.photos;for(_i=0;_i<_o.length;_i++ ){_j=new nexacro.ContactPhoto("",_o[_i].imagedata,_o[_i].label,"");_n[_i]=_j;}var _p=[];var _q=_f.organizations;for(_i=0;_i<_q.length;_i++ ){_j=new nexacro.ContactOrganization("",_q[_i].type,_q[_i].company,_q[_i].department,_q[_i].title,_q[_i].label,"");_p[_i]=_j;}var _r=[];var _s=_f.addresses;for(_i=0;_i<_s.length;_i++ ){_j=new nexacro.ContactAddress("",_s[_i].type,_s[_i].country.replace(new RegExp("_NEWLINE_","gi"),"\n"),_s[_i].postcode.replace(new RegExp("_NEWLINE_","gi"),"\n"),_s[_i].city.replace(new RegExp("_NEWLINE_","gi"),"\n"),_s[_i].region.replace(new RegExp("_NEWLINE_","gi"),"\n"),_s[_i].street.replace(new RegExp("_NEWLINE_","gi"),"\n"),_s[_i].label,"");_r[_i]=_j;}var _t=[];var _u=_f.urls;for(_i=0;_i<_u.length;_i++ ){_j=new nexacro.ContactField("",_u[_i].type,_u[_i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),_u[_i].label,"");_t[_i]=_j;}var _v=[];var _w=_f.ims;for(_i=0;_i<_w.length;_i++ ){_j=new nexacro.ContactIM("",_w[_i].type,_w[_i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),_w[_i].label,_w[_i].ptype,_w[_i].plabel,"");_v[_i]=_j;}var _x=[];var _y=_f.emails;for(_i=0;_i<_y.length;_i++ ){_j=new nexacro.ContactField("",_y[_i].type,_y[_i].value.replace(new RegExp("_NEWLINE_","gi"),"\n"),_y[_i].label,"");_x[_i]=_j;}if(typeof (_f.note)!="undefined"){_f.note=_f.note.replace(new RegExp("&#32;","gi")," ");_f.note=_f.note.replace(new RegExp("_NEWLINE_","gi"),"\n");}_e[_z]=new nexacro.Contact("",_f.uniqueid,_f.contactname.displayname,_f.contactname.familyname,_f.contactname.givenname,_f.contactname.middlename,_f.contactname.prefix,_f.contactname.suffix,_f.nickname,nexacro.Device.isConvertDateToString(_f.birthday),_f.note,_g,_x,_v,_l,_t,_r,_p,_n,"");}return _e;};_pContactSet.typeCheck=function(_a){var _b;var _c,_d;if(typeof (_a)=="undefined"){return false;}if(typeof (_a.phonenumbers)!="undefined"){if((_a.phonenumbers.length)>0){for(_b=0;_b<_a.phonenumbers.length;_b++ ){_c=_a.phonenumbers[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.phonenumbers[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(!(_d=="0"||_d=="1"||_d=="2"||_d=="3"||_d=="4"||_d=="6"||_d=="7"||_d=="9"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.emails)!="undefined"){if((_a.emails.length)>0){for(_b=0;_b<_a.emails.length;_b++ ){_c=_a.emails[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.emails[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(!(_d=="0"||_d=="4"||_d=="6"||_d=="7"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.categories)!="undefined"){if((_a.categories.length)>0){for(_b=0;_b<_a.categories.length;_b++ ){_c=_a.categories[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.categories[_b].type+"";if(_d!="0"){return false;}}}}if(typeof (_a.urls)!="undefined"){if((_a.urls.length)>0){for(_b=0;_b<_a.urls.length;_b++ ){_c=_a.urls[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.urls[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(_d!="12"){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.ims)!="undefined"){if((_a.ims.length)>0){for(_b=0;_b<_a.ims.length;_b++ ){_c=_a.ims[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.ims[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(_d!="7"){return false;}var _e=_a.ims[_b].protocoltype+"";if(!(_e=="0"||_e=="1"||_e=="2"||_e=="3"||_e=="4"||_e=="5"||_e=="6"||_e=="7"||_e=="8")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.addresses)!="undefined"){if((_a.addresses.length)>0){for(_b=0;_b<_a.addresses.length;_b++ ){_c=_a.addresses[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.addresses[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(!(_d=="0"||_d=="4"||_d=="7"||_d=="10")){return false;}}else{if(_d=="1"){return false;}}}}}if(typeof (_a.organizations)!="undefined"){if((_a.organizations.length)>0){for(_b=0;_b<_a.organizations.length;_b++ ){_c=_a.organizations[_b].type* 1;if(_c<0&&_c>12){return false;}_d=_a.organizations[_b].type+"";if(nexacro.Device.curDevice==DeviceType.ANDROID){if(!(_d=="0"||_d=="7"||_d=="10")){return false;}}else{if(_d!="10"){return false;}}}}}return true;};delete _pContactSet;}if(!nexacro.ContactSetEventInfo){nexacro.ContactSetEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.contacts=_c;};var _pContactSetEventInfo=nexacro.ContactSetEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetEventInfo);_pContactSetEventInfo._type_name="ContactSetEventInfo";delete _pContactSetEventInfo;}if(!nexacro.ContactSetErrorEventInfo){nexacro.ContactSetErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pContactSetErrorEventInfo=nexacro.ContactSetErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ContactSetErrorEventInfo);_pContactSetErrorEventInfo._type_name="ContactSetErrorEventInfo";delete _pContactSetErrorEventInfo;}if(!nexacro.Contact){nexacro.Contact=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t){this.enableevent=true;if(arguments.length==2){this.id=this._p_name=_a||null;if(_t){this._p_parent=_t;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_uniqueid="";this._p_contactname={displayname:"",familyname:"",givenname:"",middlename:"",prefix:"",suffix:"",set_displayname:function(){},set_familyname:function(_u){this.familyname=_u;},set_givenname:function(_u){this.givenname=_u;},set_middlename:function(_u){this.middlename=_u;},set_prefix:function(_u){this.prefix=_u;},set_suffix:function(_u){this.suffix=_u;}};this._p_nickname="";this._p_birthday="";this._p_note="";this._p_phonenumbers="";this._p_emails="";this._p_ims="";this._p_categories="";this._p_urls="";this._p_addresses="";this._p_organizations="";this._p_photos="";}else{this._p_uniqueid=_b||"";this._p_contactname={displayname:(_c||""),familyname:(_d||""),givenname:(_e||""),middlename:(_f||""),prefix:(_g||""),suffix:(_h||""),set_displayname:function(){},set_familyname:function(_u){this.familyname=_u;},set_givenname:function(_u){this.givenname=_u;},set_middlename:function(_u){this.middlename=_u;},set_prefix:function(_u){this.prefix=_u;},set_suffix:function(_u){this.suffix=_u;}};this._p_nickname=(_i||"");this._p_birthday=(_j||"");if(typeof (_k)!="undefined"&&_k!=""){_k=_k.replace(/&#10;/g,"\n");}this._p_note=(_k||"");this._p_phonenumbers=(_l||"");this._p_emails=(_m||"");this._p_ims=(_n||"");this._p_categories=(_o||"");this._p_urls=(_p||"");this._p_addresses=(_q||"");this._p_organizations=(_r||"");this._p_photos=(_s||"");}};nexacro.Contact.TYPE_CUSTOM=0;nexacro.Contact.TYPE_CALLBACK=1;nexacro.Contact.TYPE_FAX_HOME=2;nexacro.Contact.TYPE_FAX_WORK=3;nexacro.Contact.TYPE_HOME=4;nexacro.Contact.TYPE_MAIN=5;nexacro.Contact.TYPE_MOBILE=6;nexacro.Contact.TYPE_OTHER=7;nexacro.Contact.TYPE_OTHER_FAX=8;nexacro.Contact.TYPE_PAGER=9;nexacro.Contact.TYPE_WORK=10;nexacro.Contact.TYPE_IPHONE=11;nexacro.Contact.TYPE_HOMEPAGE=12;nexacro.Contact.PTYPE_CUSTOM=0;nexacro.Contact.PTYPE_AIM=1;nexacro.Contact.PTYPE_MSN=2;nexacro.Contact.PTYPE_YAHOO=3;nexacro.Contact.PTYPE_SKYPE=4;nexacro.Contact.PTYPE_QQ=5;nexacro.Contact.PTYPE_GOOGLE_TALK=6;nexacro.Contact.PTYPE_ICQ=7;nexacro.Contact.PTYPE_JABBER=8;nexacro.Contact.PTYPE_NETMEETING=9;nexacro.Contact.PTYPE_FACEBOOK=10;nexacro.Contact.PTYPE_GADUGADU=11;var _pContact=nexacro.Contact.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.Contact);_pContact._type_name="Contact";_pContact.set_uniqueid=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_uniqueid=_a;return true;}return false;};_pContact.set_displayname=function(_a){};_pContact.set_familyname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_contactname.familyname=_a;return true;}return false;};_pContact.set_givenname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_contactname.givenname=_a;return true;}return false;};_pContact.set_middlename=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_contactname.middlename=_a;return true;}return false;};_pContact.set_prefix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_contactname.prefix=_a;return true;}return false;};_pContact.set_suffix=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_contactname.suffix=_a;return true;}return false;};_pContact.set_nickname=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_nickname=_a;return true;}return false;};_pContact.set_note=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_note=_a;return true;}return false;};_pContact.set_birthday=function(_a){if(this.isValidDate(_a)==true){this._p_birthday=_a;return true;}return false;};_pContact.set_phonenumbers=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this._p_phonenumbers=_a;return true;}return false;};_pContact.set_emails=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this._p_emails=_a;return true;}return false;};_pContact.set_ims=function(_a){if(this.pramk_ContactIMArray(_a)==true){this._p_ims=_a;return true;}return false;};_pContact.set_categories=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this._p_categories=_a;return true;}return false;};_pContact.set_urls=function(_a){if(this.pramk_ContactFieldArray(_a)==true){this._p_urls=_a;return true;}return false;};_pContact.set_addresses=function(_a){if(this.pramk_ContactAddressArray(_a)==true){this._p_addresses=_a;return true;}return false;};_pContact.set_organizations=function(_a){if(this.pramk_ContactOrganizationArray(_a)==true){this._p_organizations=_a;return true;}return false;};_pContact.set_photos=function(_a){if(this.pramk_ContactPhotoArray(_a)==true){this._p_photos=_a;return true;}return false;};_pContact._properties=[{name:"uniqueid"},{name:"contactname"},{name:"nickname"},{name:"birthday"},{name:"note"},{name:"phonenumbers"},{name:"emails"},{name:"ims"},{name:"categories"},{name:"urls"},{name:"addresses"},{name:"organizations"},{name:"photos"}];nexacro._defineProperties(_pContact,_pContact._properties);_pContact.pramk_ContactFieldArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactIMArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].label)&&nexacro.Device.pramck_contactString(_a[_b].value)&&nexacro.Device.pramck_contactString(_a[_b].protocoltype)&&nexacro.Device.pramck_contactString(_a[_b].protocollabel))){return false;}}return true;}return false;};_pContact.pramk_ContactAddressArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].country)&&nexacro.Device.pramck_contactString(_a[_b].postcode)&&nexacro.Device.pramck_contactString(_a[_b].city)&&nexacro.Device.pramck_contactString(_a[_b].region)&&nexacro.Device.pramck_contactString(_a[_b].street)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactOrganizationArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].type)&&nexacro.Device.pramck_contactString(_a[_b].company)&&nexacro.Device.pramck_contactString(_a[_b].department)&&nexacro.Device.pramck_contactString(_a[_b].title)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.pramk_ContactPhotoArray=function(_a){if(Object.prototype.toString.call(_a)==="[object Array]"||_a==""){for(var _b=0;_b<_a.length;_b++ ){if(!(nexacro.Device.pramck_contactString(_a[_b].imagedata)&&nexacro.Device.pramck_contactString(_a[_b].label))){return false;}}return true;}return false;};_pContact.toJson=function(){if(this._p_contactname.familyname==null){this._p_contactname.familyname="";}if(this._p_contactname.displayname==null){this._p_contactname.displayname="";}if(this._p_contactname.givenname==null){this._p_contactname.givenname="";}if(this._p_contactname.middlename==null){this._p_contactname.middlename="";}if(this._p_contactname.prefix==null){this._p_contactname.prefix="";}if(this._p_contactname.suffix==null){this._p_contactname.suffix="";}if(typeof (this._p_uniqueid)=="undefined"){this._p_uniqueid="";}var _a='{ "uniqueid":"'+this._p_uniqueid;if(nexacro.Device.curDevice==DeviceType.ANDROID){_a+='", "contactname":{';_a+=' "familyname":"'+this._p_contactname.familyname;_a+='", "displayname":"'+this._p_contactname.displayname;_a+='", "givenname":"'+this._p_contactname.givenname;_a+='", "middlename":"'+this._p_contactname.middlename;_a+='", "prefix":"'+this._p_contactname.prefix;_a+='", "suffix":"'+this._p_contactname.suffix;_a+='"}';}else{_a+='", "contactname":[{';_a+=' "familyname":"'+this._p_contactname.familyname;_a+='", "displayname":"'+this._p_contactname.displayname;_a+='", "givenname":"'+this._p_contactname.givenname;_a+='", "middlename":"'+this._p_contactname.middlename;_a+='", "prefix":"'+this._p_contactname.prefix;_a+='", "suffix":"'+this._p_contactname.suffix;_a+='"}]';}if(typeof (this._p_nickname)=="undefined"){this._p_nickname="";}_a+=', "nickname":"'+this._p_nickname;if(nexacro.Device.curDevice==DeviceType.ANDROID){if(this._p_birthday!=""){_a+='", "birthday":"'+this._p_birthday.getFullYear()+'-'+nexacro._toString(this._p_birthday.getMonth()+1).padLeft(2,"0")+'-'+this._p_birthday.getDate();}else{_a+='", "birthday":"'+this._p_birthday;}}else{if(this._p_birthday!=""){_a+='", "birthday":"'+this._p_birthday.getFullYear()+'/'+(this._p_birthday.getMonth()+1)+'/'+this._p_birthday.getDate();}else{_a+='", "birthday":"';}}if(typeof (this._p_note)=="undefined"){this._p_note="";}if(nexacro.Device.curDevice==DeviceType.IOS){this._p_note=this._p_note.replace(/\r/g,"");this._p_note=this._p_note.replace(/\n/g,"_NEWLINE_");this._p_note=this._p_note.replace(/&#10;/g,"_NEWLINE_");}_a+='", "note":"'+this._p_note;_a+='", "phonenumbers":';var _b;if(typeof (this._p_phonenumbers)!="undefined"){if((this._p_phonenumbers.length)>0){_a+='[';for(_b=0;_b<this._p_phonenumbers.length;_b++ ){_a+=this._p_phonenumbers[_b].toJson();if(((this._p_phonenumbers.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "emails":';if(typeof (this._p_emails)!="undefined"){if((this._p_emails.length)>0){_a+='[';for(_b=0;_b<this._p_emails.length;_b++ ){_a+=this._p_emails[_b].toJson();if(((this._p_emails.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "ims":';if(typeof (this._p_ims)!="undefined"){if((this._p_ims.length)>0){_a+='[';for(_b=0;_b<this._p_ims.length;_b++ ){_a+=this._p_ims[_b].toJson();if(((this._p_ims.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "categories":';if(typeof (this._p_categories)!="undefined"){if((this._p_categories.length)>0){_a+='[';for(_b=0;_b<this._p_categories.length;_b++ ){_a+=this._p_categories[_b].toJson();if(((this._p_categories.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "urls":';if(typeof (this._p_urls)!="undefined"){if((this._p_urls.length)>0){_a+='[';for(_b=0;_b<this._p_urls.length;_b++ ){_a+=this._p_urls[_b].toJson();if(((this._p_urls.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "addresses":';if(typeof (this._p_addresses)!="undefined"){if((this._p_addresses.length)>0){_a+='[';for(_b=0;_b<this._p_addresses.length;_b++ ){_a+=this._p_addresses[_b].toJson();if(((this._p_addresses.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "organizations":';if(typeof (this._p_organizations)!="undefined"){if((this._p_organizations.length)>0){_a+='[';for(_b=0;_b<this._p_organizations.length;_b++ ){_a+=this._p_organizations[_b].toJson();if(((this._p_organizations.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+=', "photos":';if(typeof (this._p_photos)!="undefined"){if((this._p_photos.length)>0){_a+='[';for(_b=0;_b<this._p_photos.length;_b++ ){_a+=this._p_photos[_b].toJson();if(((this._p_photos.length)-1)==_b){}else{_a+=',';}}_a+=']';}else{_a+='""';}}else{_a+='""';}_a+='}';return _a;};_pContact.isValidDate=function(_a){if(Object.prototype.toString.call(_a)==="[object Date]"||_a==""){return true;}return false;};delete _pContact;}if(!nexacro.ContactField){nexacro.ContactField=function(_a,_b,_c,_d,_e){if(arguments.length==2){this.id=this._p_name=_a||null;if(_e){this._p_parent=_e;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_ype="";this._p_value="";this._p_label="";}else{this._p_type=_b||"";this._p_value=_c||"";this._p_label=_d||"";}this.enableevent=true;};var _pContactField=nexacro.ContactField.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactField);_pContactField._type_name="ContactField";_pContactField.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_type=_a;return true;}this._p_type="";return false;};_pContactField.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_value=_a;return true;}this._p_value="";return false;};_pContactField.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_label=_a;return true;}this._p_label="";return false;};_pContactField._properties=[{name:"type"},{name:"value"},{name:"label"}];nexacro._defineProperties(_pContactField,_pContactField._properties);_pContactField.toJson=function(){if(typeof (this._p_label)=="undefined"||this._p_label==null){this._p_label="";}if(typeof (this._p_value)=="undefined"||this._p_value==null){this._p_value="";}if(typeof (this._p_type)=="undefined"||this._p_type==null){this._p_type="";}var _a={label:this._p_label,value:this._p_value,type:this._p_type};var _b=JSON.stringify(_a);return _b;};delete _pContactField;}if(!nexacro.ContactIM){nexacro.ContactIM=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this.id=this._p_name=_a||null;if(_g){this._p_parent=_g;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_type="";this._p_value="";this._p_label="";this._p_protocoltype="";this._p_protocollabel="";}else{this._p_type=_b||"";this._p_value=_c||"";this._p_label=_d||"";this._p_protocoltype=_e||"";this._p_protocollabel=_f||"";}this.enableevent=true;};var _pContactIM=nexacro.ContactIM.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactIM);_pContactIM._type_name="ContactIM";_pContactIM.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_type=_a;return true;}this._p_type="";return false;};_pContactIM.set_value=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_value=_a;return true;}this._p_value="";return false;};_pContactIM.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_label=_a;return true;}this._p_label="";return false;};_pContactIM.set_protocoltype=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_protocoltype=_a;return true;}this._p_protocoltype="";return false;};_pContactIM.set_protocollabel=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_protocollabel=_a;return true;}this._p_protocollabel="";return false;};_pContactIM._properties=[{name:"type"},{name:"value"},{name:"label"},{name:"protocoltype"},{name:"protocollabel"}];nexacro._defineProperties(_pContactIM,_pContactIM._properties);_pContactIM.toJson=function(){if(typeof (this._p_label)=="undefined"||this._p_label==null){this._p_label="";}if(typeof (this._p_value)=="undefined"||this._p_value==null){this._p_value="";}if(typeof (this._p_type)=="undefined"||this._p_type==null){this._p_type="";}if(typeof (this._p_protocoltype)=="undefined"||this._p_protocoltype==null){this._p_protocoltype="";}if(typeof (this._p_protocollabel)=="undefined"||this._p_protocollabel==null){this._p_protocollabel="";}var _a={label:this._p_label,value:this._p_value,type:this._p_type,ptype:this._p_protocoltype,plabel:this._p_protocollabel};var _b=JSON.stringify(_a);return _b;};delete _pContactIM;}if(!nexacro.ContactAddress){nexacro.ContactAddress=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(arguments.length==2){this.id=this._p_name=_a||null;if(_i){this._p_parent=_i;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_type="";this._p_country="";this._p_postcode="";this._p_city="";this._p_region="";this._p_street="";this._p_label="";}else{this._p_type=_b||"";this._p_country=_c||"";this._p_postcode=_d||"";this._p_city=_e||"";this._p_region=_f||"";this._p_street=_g||"";this._p_label=_h||"";}this.enableevent=true;};var _pContactAddress=nexacro.ContactAddress.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactAddress);_pContactAddress._type_name="ContactAddress";_pContactAddress.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_type=_a;return true;}return false;};_pContactAddress.set_country=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_country=_a;return true;}return false;};_pContactAddress.set_postcode=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_postcode=_a;return true;}return false;};_pContactAddress.set_city=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_city=_a;return true;}return false;};_pContactAddress.set_region=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_region=_a;return true;}return false;};_pContactAddress.set_street=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_street=_a;return true;}return false;};_pContactAddress.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_label=_a;return true;}return false;};_pContactAddress._properties=[{name:"type"},{name:"country"},{name:"postcode"},{name:"city"},{name:"region"},{name:"street"},{name:"label"}];nexacro._defineProperties(_pContactAddress,_pContactAddress._properties);_pContactAddress.toJson=function(){var _a;if(nexacro.Device.curDevice==DeviceType.ANDROID){if(typeof (this._p_label)=="undefined"||this._p_label==null){this._p_label="";}if(typeof (this._p_country)=="undefined"||this._p_country==null){this._p_country="";}if(typeof (this._p_postcode)=="undefined"||this._p_postcode==null){this._p_postcode="";}if(typeof (this._p_city)=="undefined"||this._p_city==null){this._p_city="";}if(typeof (this._p_region)=="undefined"||this._p_region==null){this._p_region="";}if(typeof (this._p_street)=="undefined"||this._p_street==null){this._p_street="";}if(typeof (this._p_type)=="undefined"||this._p_type==null){this._p_type="";}_a={label:this._p_label,country:this._p_country,postcode:this._p_postcode,city:this._p_city,region:this._p_region,street:this._p_street,type:this._p_type};}else{if(typeof (this._p_label)=="undefined"||this._p_label==null){this._p_label="";}if(typeof (this._p_type)=="undefined"||this._p_type==null){this._p_type="";}if(typeof (this._p_country)=="undefined"||this._p_country==null){this._p_country="";}if(typeof (this._p_postcode)=="undefined"||this._p_postcode==null){this._p_postcode="";}if(typeof (this._p_city)=="undefined"||this._p_city==null){this._p_city="";}if(typeof (this._p_region)=="undefined"||this._p_region==null){this._p_region="";}if(typeof (this._p_street)=="undefined"||this._p_street==null){this._p_street="";}_a={label:this._p_label,type:this._p_type,value:{Country:this._p_country,ZIP:this._p_postcode,City:this._p_city,State:this._p_region,Street:this._p_street}};}var _b=JSON.stringify(_a);return _b;};delete _pContactAddress;}if(!nexacro.ContactOrganization){nexacro.ContactOrganization=function(_a,_b,_c,_d,_e,_f,_g){if(arguments.length==2){this.id=this._p_name=_a||null;if(_g){this._p_parent=_g;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_type="";this._p_company="";this._p_department="";this._p_title="";this._p_label="";}else{this._p_type=_b||"";this._p_company=_c||"";this._p_department=_d||"";this._p_title=_e||"";this._p_label=_f||"";}this.enableevent=true;};var _pContactOrganization=nexacro.ContactOrganization.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactOrganization);_pContactOrganization._type_name="ContactOrganization";_pContactOrganization.set_type=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_type=_a;return true;}return false;};_pContactOrganization.set_company=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_company=_a;return true;}return false;};_pContactOrganization.set_department=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_department=_a;return true;}return false;};_pContactOrganization.set_title=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_title=_a;return true;}return false;};_pContactOrganization.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_label=_a;return true;}return false;};_pContactOrganization._properties=[{name:"type"},{name:"company"},{name:"department"},{name:"title"},{name:"label"}];nexacro._defineProperties(_pContactOrganization,_pContactOrganization._properties);_pContactOrganization.toJson=function(){if(typeof (this._p_label)=="undefined"||this._p_label==null){this._p_label="";}if(typeof (this._p_title)=="undefined"||this._p_title==null){this._p_title="";}if(typeof (this._p_company)=="undefined"||this._p_company==null){this._p_company="";}if(typeof (this._p_department)=="undefined"||this._p_department==null){this._p_department="";}if(typeof (this._p_type)=="undefined"||this._p_type==null){this._p_type="";}var _a={label:this._p_label,title:this._p_title,company:this._p_company,department:this._p_department,type:this._p_type};var _b=JSON.stringify(_a);return _b;};delete _pContactOrganization;}if(!nexacro.ContactPhoto){nexacro.ContactPhoto=function(_a,_b,_c,_d){if(arguments.length==2){this.id=this._p_name=_a||null;if(_d){this._p_parent=_d;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._p_imagedata="";this._p_label="";}else{this._p_imagedata=_b||"";this._p_label=_c||"";}this.enableevent=true;};var _pContactPhoto=nexacro.ContactPhoto.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ContactPhoto);_pContactPhoto._type_name="ContactPhoto";_pContactPhoto.set_imagedata=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_imagedata=_a;return true;}return false;};_pContactPhoto.set_label=function(_a){if(nexacro.Device.pramck_contactString(_a)==true){this._p_label=_a;return true;}return false;};_pContactPhoto._properties=[{name:"imagedata"},{name:"label"}];nexacro._defineProperties(_pContactPhoto,_pContactPhoto._properties);_pContactPhoto.toJson=function(){var _a={imagedata:this._p_imagedata,label:this._p_label};var _b=JSON.stringify(_a);return _b;};delete _pContactPhoto;}if(!nexacro.ExternalAPI){nexacro.ExternalAPI=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1,"onrecvdata":1};this.onsuccess=null;this.onerror=null;this.onrecvdata=null;var _c='""';var _d={id:this._id,div:"ExternalAPI",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);};var _pExternalAPI=nexacro.ExternalAPI.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.ExternalAPI);_pExternalAPI._type_name="ExternalAPI";_pExternalAPI.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"ExternalAPI",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pExternalAPI.isAccessible=function(_a){if(typeof (_a)=="undefined"||_a.length==0||typeof (_a)!="string"){return false;}else{var _b={appID:_a};var _c={id:this._id,div:"ExternalAPI",method:"isAccessible",params:_b};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);return true;}};_pExternalAPI.execExtAPI=function(_a,_b,_c,_d){if(typeof (_b)=="undefined"||_b.length==0||typeof (_b)!="string"){return false;}if(typeof (_c)=="undefined"||_c.length==0){return false;}var _e={recvID:_a,appID:_b,apiname:_c,params:_d};var _f={id:this._id,div:"ExternalAPI",method:"execExtAPI",params:_e};var _g=JSON.stringify(_f);nexacro.Device.exec(_g);return true;};_pExternalAPI._onsuccess=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onsuccess",_a.reason,_a.recvid,_a.recvdata);this._fire_onsuccess(this,_b);};_pExternalAPI._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pExternalAPI._onrecvdata=function(_a){var _b=new nexacro.ExternalAPIEventinfo("onrecvdata",_a.reason,_a.recvid,_a.recvdata);this._fire_onrecvdata(this,_b);};_pExternalAPI._fire_onrecvdata=function(_a,_b){if(this.onrecvdata&&this.onrecvdata._has_handlers){return this.onrecvdata._fireEvent(this,_b);}return true;};_pExternalAPI._onerror=function(_a){var _b=new nexacro.ExternalAPIErrorEventInfo("onerror",_a.errorcode,_a.errormsg);this._fire_onerror(this,_b);};_pExternalAPI._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};delete _pExternalAPI;}if(!nexacro.ExternalAPIEventinfo){nexacro.ExternalAPIEventinfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.recvid=_c;this.recvdata=_d;};var _pExternalAPIEventinfo=nexacro.ExternalAPIEventinfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIEventinfo);_pExternalAPIEventinfo._type_name="ExternalAPIEventinfo";delete _pExternalAPIEventinfo;}if(!nexacro.ExternalAPIErrorEventInfo){nexacro.ExternalAPIErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;};var _pExternalAPIErrorEventInfo=nexacro.ExternalAPIErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.ExternalAPIErrorEventInfo);_pExternalAPIErrorEventInfo._type_name="ExternalAPIErrorEventinfo";delete _pExternalAPIErrorEventInfo;}if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&!nexacro.LiteDBEventInfo){nexacro.LiteDBEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.returnvalue=_c;};var _pLiteDBEventInfo=nexacro.LiteDBEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBEventInfo);_pLiteDBEventInfo._type_name="LiteDBEventInfo";delete _pLiteDBEventInfo;}if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&!nexacro.LiteDBErrorEventInfo){nexacro.LiteDBErrorEventInfo=function(_a,_b,_c,_d,_e){this.eventid=_a;this.errortype="ObjectError";this.statuscode=_b;this.errormsg=_c;this.ldberrorcode=_d;this.ldberrormsg=_e;};var _pLiteDBErrorEventInfo=nexacro.LiteDBErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.LiteDBErrorEventInfo);_pLiteDBErrorEventInfo._type_name="LiteDBErrorEventInfo";delete _pLiteDBErrorEventInfo;}if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&!nexacro.LiteDBConnection){nexacro.LiteDBConnection=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.bbegin=false;this.enableevent=true;this._p_sqlstatement="";this._p_busytimeout=60000;this._p_openflag=1;this._p_datasource="";this._p_preconnect="false";this._p_async=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;this._openflag=1;var _c='""';var _d={id:this._id,div:"SQLConnection",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e,true);};nexacro.LiteDBConnection.openReadWrite=0;nexacro.LiteDBConnection.openReadWriteCreate=1;var _pLiteDBConnection=nexacro.LiteDBConnection.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBConnection);_pLiteDBConnection._type_name="LiteDBConnection";_pLiteDBConnection.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"SQLConnection",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pLiteDBConnection.set_busytimeout=function(_a){if(this.paramck_busytimeout(_a)){this._p_busytimeout=_a;return true;}else{return false;}};_pLiteDBConnection.set_datasource=function(_a){if(this.paramck_datasource(_a)){this._p_datasource=_a;if(this._p_preconnect=="true"||this._p_preconnect==true){this.open();}return true;}else{return false;}};_pLiteDBConnection.set_openflag=function(_a){if(_a=="openReadWrite"){this._p_openflag=_a;this._openflag=nexacro.LiteDBConnection.openReadWrite;}else if(_a=="openReadWriteCreate"){this._p_openflag=_a;this._openflag=nexacro.LiteDBConnection.openReadWriteCreate;}else if(_a==nexacro.LiteDBConnection.openReadWrite||_a==nexacro.LiteDBConnection.openReadWriteCreate){this._openflag=_a;this._p_openflag=_a;return true;}else{return false;}};_pLiteDBConnection.set_preconnect=function(_a){if(_a=="true"||_a=="false"||_a==true||_a==false){this._p_preconnect=_a;if(this._p_preconnect=="true"||this._p_preconnect==true){if(this._p_datasource!=""){this.open();}}return true;}else{return false;}};_pLiteDBConnection.set_async=function(_a){};_pLiteDBConnection._properties=[{name:"sqlstatement"},{name:"busytimeout"},{name:"openflag"},{name:"datasource"},{name:"preconnect"},{name:"async"}];nexacro._defineProperties(_pLiteDBConnection,_pLiteDBConnection._properties);_pLiteDBConnection.begin=function(){var _a='""';var _b={id:this._id,div:"SQLConnection",method:"begin",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBConnection.close=function(){var _a='""';var _b={id:this._id,div:"SQLConnection",method:"closeDB",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBConnection.commit=function(){var _a='""';var _b={id:this._id,div:"SQLConnection",method:"commit",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBConnection.isConnected=function(){var _a='""';var _b={id:this._id,div:"SQLConnection",method:"isConnected",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBConnection.open=function(_a,_b){if(arguments.length>=2){if(_b=="openReadWrite"){_b=nexacro.LiteDBConnection.openReadWrite;}else if(_b=="openReadWriteCreate"){_b=nexacro.LiteDBConnection.openReadWriteCreate;}}else{_b=this._openflag;}if(_a!=null){this._p_datasource=_a;}if(this.paramck_asyncOpen(this._p_datasource,_b)){var _c={datasource:this._p_datasource,openflag:_b,busytimeout:this._p_busytimeout};var _d={id:this._id,div:"SQLConnection",method:"openDB",params:_c};var _e=JSON.stringify(_d);nexacro.Device.exec(_e);}else{return false;}return true;};_pLiteDBConnection.rollback=function(){var _a='""';var _b={id:this._id,div:"SQLConnection",method:"rollback",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBConnection._onsuccess=function(_a){var _b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);this._fire_onsuccess(this,_b);};_pLiteDBConnection._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBConnection._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,_a.ldberrormsg);this._fire_onerror(this,_b);};_pLiteDBConnection._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBConnection.paramck_busytimeout=function(_a){if(_a==null){return false;}if(!nexacro.Device.publicNumCheck(_a)){return false;}if(_a<200||_a>86400000){return false;}return true;};_pLiteDBConnection.paramck_datasource=function(_a){if(_a==null){return false;}return true;};_pLiteDBConnection.paramck_asyncOpen=function(_a,_b){if(_a==null||typeof (_a)!="string"){return false;}if(!nexacro.Device.publicNumCheck(_b)){return false;}return true;};_pLiteDBConnection.paramck_query=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};_pLiteDBConnection.paramck_paramck_ldbconnection=function(_a){if(_a==null||!(_a instanceof nexacro.LiteDBConnection)){if(typeof (_a)!="string"){}else{return false;}}return true;};_pLiteDBConnection.paramck_asyncExecuteQuery=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};delete _pLiteDBConnection;}if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&!nexacro.LiteDBParameter){nexacro.LiteDBParameter=function(_a,_b,_c){this.id=this._p_name=_a||"";this._p_type=_b||"string";this._p_value=_c;};var _pLiteDBParameter=nexacro.LiteDBParameter.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBParameter);_pLiteDBParameter._type_name="LiteDBParameter";_pLiteDBParameter.set_name=function(_a){if(this.paramck_datasource(_a)){this._p_name=_a;return true;}return false;};_pLiteDBParameter.set_value=function(_a){if(this.paramck_datasource(_a)){this._p_value=_a;return true;}return false;};_pLiteDBParameter.set_type=function(_a){if(this.paramck_datasource(_a)){this._p_type=_a;return true;}return false;};_pLiteDBParameter._properties=[{name:"type"},{name:"value"},{name:"name"}];nexacro._defineProperties(_pLiteDBParameter,_pLiteDBParameter._properties);_pLiteDBParameter.toJSON=function(){var _a;if(this._p_value==null){_a='null';}else if(this._p_value==undefined){_a='undefined';}else{switch(nexacro.DataUtils.toTypeCode(this._p_type)){case 2:case 3:_a=nexacro.DataUtils.toTextFromDecimal(this._p_value);break;case 4:_a='"'+nexacro.DataUtils.toTextFromDecimal(this._p_value)+'"';break;case 5:_a='"'+nexacro.DataUtils.toTextFromDate(this._p_value)+'"';break;case 6:_a='"'+nexacro.DataUtils.toTextFromTime(this._p_value)+'"';break;case 7:if(this._p_value.dateObj==undefined){_a='"'+nexacro.DataUtils.toTextFromDateTime(this._p_value)+'"';}else{_a='"'+nexacro.DataUtils.toTextFromDateTime(this._p_value.dateObj)+'"';}break;case 0:case 1:case 8:case 9:default:_a='"'+nexacro.Device.encodeString(this._p_value)+'"';break;}}return nexacro._executeGlobalEvalStr('({"name":"'+this._p_name+'","type":'+nexacro.DataUtils.toTypeCode(this._p_type)+',"value":'+_a+'})');};_pLiteDBParameter.paramck_datasource=function(_a){if(_a==null){return false;}return true;};delete _pLiteDBParameter;}if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&!nexacro.LiteDBStatement){nexacro.LiteDBStatement=function(_a,_b){this.id=this._p_name=_a||null;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._obj=_b;this._p_query="";this._p_ldbconnection="";this._p_parameters={};this._p_async=true;this.applyrowpos=-1;this.enableevent=true;this._event_list={"onsuccess":1,"onerror":1};this.onsuccess=null;this.onerror=null;var _c='""';var _d={id:this._id,div:"SQLStatement",method:"constructor",params:JSON.parse(_c)};var _e=JSON.stringify(_d);nexacro.Device.exec(_e,true);};var _pLiteDBStatement=nexacro.LiteDBStatement.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.LiteDBStatement);_pLiteDBStatement._type_name="LiteDBStatement";_pLiteDBStatement.destroy=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"SQLStatement",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pLiteDBStatement.set_query=function(_a){if(this.paramck_query(_a)){this._p_query=_a;return true;}else{return false;}};_pLiteDBStatement.set_ldbconnection=function(_a){var _b=false;if(_a instanceof nexacro.LiteDBConnection){this._p_ldbconnection=_a;_b=true;}else if(typeof (_a)=="string"){var _c="@";if(_a.indexOf(_c)==0){_a=_a.substring(_c.length);}if(null!=this._obj[_a]&&this._obj[_a] instanceof nexacro.LiteDBConnection){this._p_ldbconnection=this._obj[_a];_b=true;}}if(_b){var _d={connectionID:this._p_ldbconnection._id};var _e={id:this._id,div:"SQLStatement",method:"set_SQLConnection",params:_d};var _f=JSON.stringify(_e);nexacro.Device.exec(_f);}return _b;};_pLiteDBStatement.set_parameters=function(_a){if(_a instanceof Array){if(_a.length==0){this._p_parameters={};}else{this._p_parameters=_a;}return true;}else if(_a instanceof Object){this._p_parameters=_a;return true;}return false;};_pLiteDBStatement.set_async=function(_a){};_pLiteDBStatement._properties=[{name:"query"},{name:"ldbconnection"},{name:"parameters"},{name:"async"}];nexacro._defineProperties(_pLiteDBStatement,_pLiteDBStatement._properties);_pLiteDBStatement.close=function(){var _a;if(nexacro.Device.curDevice==DeviceType.ANDROID){_a={id:this._id};}else{_a='""';}var _b={id:this._id,div:"SQLStatement",method:"close",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pLiteDBStatement.executeQuery=function(_a){if(_a==null){if(this._p_query.length==0){return false;}}else if(_a){if(typeof (_a)=="string"&&_a.length>0){this._p_query=_a;}else{return false;}}var _b=this.caheckTypeKeyword(this._p_query);if(_b!=1){return false;}var _c=nexacro.Device.encodeString(this._p_query);var _d=new nexacro.Dataset();var _e={};var _f=-1;if(this._p_parameters instanceof nexacro.Dataset){_d=this._p_parameters;}else{_e=this._p_parameters;}{var _g={query:_c,parameters:_e,paramdataset:nexacro.Device.DatasetToJSONObject2(_d),applyrowpos:_f};var _h={id:this._id,div:"SQLStatement",method:"executeQuery",params:_g};var _i=JSON.stringify(_h);nexacro.Device.exec(_i);}return true;};_pLiteDBStatement.executeUpdate=function(_a){if(_a==null){if(this._p_query.length==0){return false;}}else if(_a){if(typeof (_a)=="string"&&_a.length>0){this._p_query=_a;}else{return false;}}else{return false;}var _b=this.caheckTypeKeyword(this._p_query);var _c=nexacro.Device.encodeString(this._p_query);var _d=new nexacro.Dataset();var _e={};var _f=-1;if(this.parameters instanceof nexacro.Dataset){_d=this._p_parameters;}else{_e=this._p_parameters;}{var _g={query:_c,qType:_b,parameters:_e,paramdataset:nexacro.Device.DatasetToJSONObject2(_d),applyrowpos:_f};var _h={id:this._id,div:"SQLStatement",method:"executeUpdate",params:_g};var _i=JSON.stringify(_h);nexacro.Device.exec(_i);}return true;};_pLiteDBStatement._onsuccess=function(_a){var _b;if(_a.reason!="7"){_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_a.returnvalue);}else{var _c=new nexacro.Dataset("__tempDS",this._obj);_c=nexacro.Device.JSONObjectToDataset2(_a.returnvalue,_c);_b=new nexacro.LiteDBEventInfo("onsuccess",_a.reason,_c);}this._fire_onsuccess(this,_b);};_pLiteDBStatement._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pLiteDBStatement._onerror=function(_a){var _b=new nexacro.LiteDBErrorEventInfo("onerror",_a.errorcode,_a.errormsg,_a.ldberrorcode,_a.ldberrormsg);this._fire_onerror(this,_b);};_pLiteDBStatement._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};_pLiteDBStatement.caheckTypeKeyword=function(_a){if(typeof (_a)=="undefined"||_a.length==0){return;}var _b=_a.toLowerCase();var _c=_b.split(" ");for(var _d=0;_d<_c.length;_d++ ){if(_a.match(/select/i)!=null){return 1;}else if(_a.match(/insert/i)!=null){return 2;}else if(_a.match(/update/i)!=null){return 3;}else if(_a.match(/delete/i)!=null){return 4;}}return 0;};_pLiteDBStatement.paramck_query=function(_a){if(_a==null||typeof (_a)!="string"){return false;}return true;};delete _pLiteDBStatement;}if(!nexacro.FakeXMLHttpRequest){nexacro.FakeXMLHttpRequest=function(_a,_b,_c,_d,_e){this.id=this._p_name=_a;if(_b){this._p_parent=_b;}this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this._obj=_b;this.strURL="";this.strDataType=nexacro._toString(_c)||"";this.bCompress=nexacro._toBoolean(_d);this.responseHeaders={};this.responseAllHeaders={};this.requestHeaders={};this.UNSENT=0;this.OPENED=1;this.HEADERS_RECEIVED=2;this.LOADING=3;this.DONE=4;this.method="";this.async=_e;this.readyState=0;this.timeout=0;this.withCredentials=false;this.upload={};this.readyState=0;this.status=0;this.statusText="";this.response="";this.responseType="";this.responseText="";this.responseXML="";this.onreadystatechange=function(){};var _f={location:document.location.href};var _g={id:this._id,div:"FakeXMLHttpRequest",method:"constructor",params:_f};var _h=JSON.stringify(_g);nexacro.Device.exec(_h);};var _pFakeXMLHttpRequest=nexacro.FakeXMLHttpRequest.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.FakeXMLHttpRequest);_pFakeXMLHttpRequest._type_name="FakeXMLHttpRequest";_pFakeXMLHttpRequest.destory=function(){delete nexacro.Device._userCreatedObj[this._id];var _a='""';var _b={id:this._id,div:"FakeXMLHttpRequest",method:"destroy",params:JSON.parse(_a)};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);return true;};_pFakeXMLHttpRequest.updateCookies=function(){var _a={url:this.strURL};var _b={id:this._id,div:"FakeXMLHttpRequest",method:"updateCookies",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pFakeXMLHttpRequest.open=function(_a,_b,_c){this.method=_a;this.strURL=_b;if(nexacro.Device.curDevice==DeviceType.IOS){this.updateCookies();}};_pFakeXMLHttpRequest.setRequestHeader=function(_a,_b){this.requestHeaders[_a]=_b;};_pFakeXMLHttpRequest.send=function(_a){if(_a instanceof FormData){this.fileupload();}else{this.sendData(_a);}};_pFakeXMLHttpRequest.sendData=function(_a){this.SendData=_a;var _b={method:this.method,async:this.async};var _c="";if(_a){_c=btoa(unescape(encodeURIComponent(_a)));}var _d={attrs:_b,sendData:_c,strURL:this.strURL,protocolparameters:nexacro.Device._protocolparameters,strDataType:this.strDataType,bCompress:this.bCompress,timeout:this.timeout,requestHeaders:this.requestHeaders};var _e={id:this._id,div:"FakeXMLHttpRequest",method:"sendData",params:_d};var _f=JSON.stringify(_e);var _g=nexacro.Device.exec(_f,!this.async);if(!this.async){var _h=nexacro._executeGlobalEvalStr("("+_g+")");if(_h){if(_h.readyState){this.readyState=_h.readyState;}if(_h.status){this.status=_h.status;}if(_h.statusText){this.statusText=_h.statusText;}if(_h.responseText){this.responseText=decodeURIComponent(escape(atob(_h.responseText)));}if(_h.responseAllHeaders){this.responseHeaders=JSON.parse(nexacro.Device.decodeString(_h.responseAllHeaders));}if(this.responseHeaders){this.responseAllHeaders=JSON.stringify(this.responseHeaders);}}}};_pFakeXMLHttpRequest.fileupload=function(){var _a="|";var _b="&";this.async=true;var _c=this._filelist;var _d=this._postdatalist;var _e=Object.keys(_c);var _f,_g,_h,_i;for(_f=0,_g=_e.length,_h="";_f<_g;_f++ ){_h+=_c[_e[_f]].fullpath;_h+=(_f<_g -1)?_a:"";}var _j=Object.keys(_d);for(_f=0,_g=_j.length,_i="";_f<_g;_f++ ){_i+=_j[_f];_i+="=";_i+=_d[_j[_f]];_i+=(_f<_g -1)?_b:"";}var _k={strURL:this.strURL,strDataType:this.strDataType,postdata:_i,filelist:_h,filelistkeys:_e};var _l={id:this._id,div:"FakeXMLHttpRequest",method:"fileUpload",params:_k};var _m=JSON.stringify(_l);nexacro.Device.exec(_m,!this.async);};_pFakeXMLHttpRequest.getSendData=function(){if(this.SendData){return btoa(unescape(encodeURIComponent(this.SendData)));}return null;};_pFakeXMLHttpRequest.abort=function(){var _a={};var _b={id:this._id,div:"FakeXMLHttpRequest",method:"abort",params:_a};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};_pFakeXMLHttpRequest.getResponseHeader=function(_a){return this.responseHeaders[_a];};_pFakeXMLHttpRequest.getAllResponseHeaders=function(){return this.responseAllHeaders;};_pFakeXMLHttpRequest.overrideMimeType=function(_a){};_pFakeXMLHttpRequest._fire_onreadystatechange=function(_a){var _b;if(nexacro.Device.curDevice==DeviceType.ANDROID){_b=_a;}else{_b=nexacro._executeGlobalEvalStr("("+_a+")");}this.readyState=_b.readyState;this.status=_b.status;this.responseType="";var _c;if(_b.e){_c=JSON.parse(nexacro.Device.decodeString(_b.e));}if(_b.responseText){this.responseText=decodeURIComponent(escape(atob(_b.responseText)));}if(_b.responseAllHeaders){this.responseHeaders=JSON.parse(nexacro.Device.decodeString(_b.responseAllHeaders));}if(this.responseHeaders){this.responseAllHeaders=JSON.stringify(this.responseHeaders);}if(_c){this.onreadystatechange.call(this,_c);}else{this.onreadystatechange.call();}};_pFakeXMLHttpRequest._fire_ontargetevent=function(_a){var _b=nexacro._executeGlobalEvalStr("("+_a+")");var _c=_b.eventname;this.readyState=_b.readyState;this.status=_b.status;if(this.upload[_c]!=undefined){this.upload[_c].call();}};_pFakeXMLHttpRequest._fire_onfileupload=function(_a){var _b=nexacro._executeGlobalEvalStr("("+_a+")");var _c,_d,_e,_f,_g,_h,_i;_c=_b.status;if(_b.data){_d=decodeURIComponent(escape(atob(_b.data)));}_e=_b.url;_g=_b.httpcode;_h=_b.loaded;_i=_b.total;this.onreadystatechange.call(this,_c,_d,_e,_f,_g,_h,_i);};delete _pFakeXMLHttpRequest;nexacro._getFileCache=function(_a){if(nexacro._devicefiles&&(nexacro._devicefiles[_a])){return nexacro._devicefiles[_a];}if(_a.trim().indexOf("theme://")>=0){return nexacro._devicetheme[_a];}return null;};}if(nexacro._OS=="Android"&&nexacro._Browser=="Runtime"){if(nexacro.VideoPlayer){var _pVideo=nexacro.VideoPlayer.prototype;_pVideo.play=function(_a){var _b;if(nexacro._isNull(_a)){_b=this._obj_elem;if(_b){_b._play();this._need_change_event=false;}}else if(nexacro._isString(_a)){if((_a.toLowerCase()=="360stereo")||_a.toLowerCase()=="360mono"){_b=this._obj_elem;if(_b){_b._vr360play(_a);this._need_change_event=false;}}}else{return false;}};delete _pVideo;}if(nexacro._VideoPlayerPluginElement){var __pVideoPlayerPluginElement=nexacro._VideoPlayerPluginElement.prototype;__pVideoPlayerPluginElement._on_plugin_event=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=(this.parent_elem?this.parent_elem.linkedcontrol:null);if(_k){if(_a=="PlayStateChange"){var _l=null;var _m=_b;switch(_m){case "1":_l="stop";break;case "2":_l="pause";break;case "3":_l="play";break;case "4":_l="scanforward";break;case "5":_l="scanreverse";break;case "6":_l="buffer";break;case "7":_l="wait";break;case "8":_l="ended";break;case "9":_l="transition";break;case "10":_l="ready";break;default:_l="undefined";break;}if(_l){_k._on_statuschanged(_l);}}else if(_a=="OpenStateChange"){var _n=nexacro._executeGlobalEvalStr("("+_b+")");var _o,_p,_q;_o=_n.width;_p=_n.height;_q=_n.duration;if(_o>0&&_p>0){var _r=_p/_o;if(_r==0.7500){_k.aspectratio="4 : 3";}else if(_r==0.5625){_k.aspectratio="16 : 9";}else if(_r==0.625){_k.aspectratio="16 : 10";}else if(_r==0.8){_k.aspectratio="4 : 3";}else if(_r==1){_k.aspectratio="1 : 1";}else{if(_o>0&&_p>0){var _s,_t;var _u,_v;if(_o<_p){_s=_o;_t=_p;}else{_s=_p;_t=_o;}while(_s%_t!=0){_u=_s%_t;_s=_t;_t=_u;}_v=_t;_o=_o/_v;_p=_p/_v;_k.aspectratio=_o+" : "+_p;}else{_k.aspectratio=_o+" : "+_p;}}_k.videosize[0]=_o;_k.videosize[1]=_p;}else{_k.videosize[0]=0;_k.videosize[1]=0;}_k.duration=_q>0?_q:0;}else if(_a=="PositionChange"){_k._on_currenttimechanged(_b);}else if(_a=="MediaError"){var _w=null;var _x;switch(_b){case "100":case "1007":_w="error occurred when downloading";_x=2;break;case "-1004":_w="error occurred when decoding";_x=3;break;case "-110":case "2":case "1":case "-1005":_w="fetching process aborted by user";_x=1;break;default:_w="video not supported";_x=4;break;}_k._on_error("NativeError",_w,_x);}if(_k[_a]){var _y=_k[_a];if(_y){return _y._fireEvent(this,_b,_c,_d,_e,_f,_g,_h,_i,_j);}}}};__pVideoPlayerPluginElement._setVideoCurrentTime=function(_a,_b){if(_b>-1){var _c=this._getPluginObject();if(_c){_c.setProperty("currenttime",_b);}}};__pVideoPlayerPluginElement._setVideoLoop=function(_a,_b){var _c=this._getPluginObject();if(_c){_c.setProperty("repeat",_b);}};__pVideoPlayerPluginElement._setVideoMute=function(_a,_b){var _c=this._getPluginObject();if(_c){_c.setProperty("mute",_b);}};__pVideoPlayerPluginElement._setVideoVolume=function(_a,_b){var _c=this._getPluginObject();if(_c){_c.setProperty("volume",_b);}};__pVideoPlayerPluginElement._setVideo360VRMode=function(_a,_b){var _c=this._getPluginObject();if(_c){_c.setProperty("vr360mode",_b);}};__pVideoPlayerPluginElement._play=function(){var _a=this._getPluginObject();if(_a){_a.callMethod("play");}};__pVideoPlayerPluginElement._vr360play=function(_a){var _b=this._getPluginObject();if(_b){_b.callMethod("vr360fullScreen",_a);}};__pVideoPlayerPluginElement._pause=function(){var _a=this._getPluginObject();if(_a){_a.callMethod("pause");}};__pVideoPlayerPluginElement._stop=function(){var _a=this._getPluginObject();if(_a){_a.callMethod("stop");}};delete __pVideoPlayerPluginElement;}}if(!nexacro.BluetoothLE){nexacro.BluetoothLE=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.handle=nexacro._createBluetoothLEConnectionObject(this);this._event_list={"onscanresult":1,"onsubscriberesult":1,"onsuccess":1,"onerror":1};this.onscanresult=null;this.onsubscriberesult=null;this.onsuccess=null;this.onerror=null;this.osSpecifiedJSONString=this._makeOSSpecifiedJSONString(this);var _c='""';var _d='{"id":'+this._id+', "div":"BluetoothLE", "method":"constructor", "params":'+_c+'}';nexacro.Device.exec(_d);};var _pBluetoothLE=nexacro.BluetoothLE.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.BluetoothLE);_pBluetoothLE._type_name="BluetoothLE";_pBluetoothLE.destroy=function(){nexacro._destroyBluetoothLEConnectionObject(this.handle);delete nexacro.Device._userCreatedObj[this._id];return true;};_pBluetoothLE.scanStart=function(_a,_b){var _c='{ "duration":"'+_a;_c+='", "service_uuid":"'+_b;_c+='"}';var _d=this.makeJSONString('"scanStart"',_c);nexacro.Device.exec(_d);};_pBluetoothLE.scanStop=function(){var _a='""';var _b=this.makeJSONString('"scanStop"',_a);nexacro.Device.exec(_b);};_pBluetoothLE.connect=function(_a){var _b='{ "device_address":"'+_a;_b+='"}';var _c=this.makeJSONString('"connect"',_b);nexacro.Device.exec(_c);};_pBluetoothLE.disconnect=function(){var _a='""';var _b=this.makeJSONString('"disconnect"',_a);nexacro.Device.exec(_b);};_pBluetoothLE.discoverService=function(_a){var _b='""';var _c=this.makeJSONString('"discoverServices"',_b);nexacro.Device.exec(_c);};_pBluetoothLE.subscribe=function(_a,_b){var _c='{ "service_uuid":"'+_a;_c+='", "characteristic_uuid":"'+_b;_c+='"}';var _d=this.makeJSONString('"subscribe"',_c);nexacro.Device.exec(_d);};_pBluetoothLE.unsubscribe=function(_a,_b){var _c='{ "service_uuid":"'+_a;_c+='", "characteristic_uuid":"'+_b;_c+='"}';var _d=this.makeJSONString('"unsubscribe"',_c);nexacro.Device.exec(_d);};_pBluetoothLE.writeCharacteristic=function(_a,_b,_c,_d){var _e='{  "service_uuid":"'+_a;_e+='", "characteristic_uuid":"'+_b;_e+='", "value":"'+_c;_e+='"}';var _f=this.makeJSONString('"writeCharacteristic"',_e);nexacro.Device.exec(_f);};_pBluetoothLE.readCharacteristic=function(_a,_b){var _c='{  "service_uuid":"'+_a;_c+='", "characteristic_uuid":"'+_b;_c+='"}';var _d=this.makeJSONString('"readCharacteristic"',_c);nexacro.Device.exec(_d);};_pBluetoothLE.test=function(_a){var _b='{  device_address:"'+_a;_b+='"}';var _c='{"id":'+this._id+', "div":"BluetoothLE", "windows_platform":"WIN32", "method":"test", "params":'+_b+'}';nexacro.Device.exec(_c);};_pBluetoothLE.makeJSONString=function(_a,_b){var _c='{"id":'+this._id;_c+=', "div":"BluetoothLE"';_c+=', "method":'+_a;_c+=this.osSpecifiedJSONString;_c+=', "params":'+_b+'}';return _c;};_pBluetoothLE._makeOSSpecifiedJSONString=function(_a){var _b='';if(nexacro._OS=="Windows"){_b+=', "windowhandle":'+_a.parent._getWindow().handle;_b+=', "objecthandle":'+_a.handle;_b+=', "windows_platform":"WIN32"';}else{}return _b;};_pBluetoothLE.hasBluetoothLE=function(){if(nexacro.Device.curDevice==DeviceType.ANDROID){return nexacro.__hasBluetoothLE();}else{return (nexacro.Device.isphone==1);}};_pBluetoothLE._onscanresult=function(_a){var _b;if(nexacro._OS=="Windows"){var _c=JSON.parse(_a);_b=new nexacro.BluetoothLEScanDeviceEventInfo("onscanresult",_c.devicename,_c.deviceaddress);}else{_b=new nexacro.BluetoothLEScanDeviceEventInfo("onscanresult",_a.devicename,_a.deviceaddress);}this._fire_onscanresult(this,_b);};_pBluetoothLE._fire_onscanresult=function(_a,_b){if(this.onscanresult&&this.onscanresult._has_handlers){return this.onscanresult._fireEvent(this,_b);}};_pBluetoothLE._onsubscriberesult=function(_a){var _b;if(nexacro._OS=="Windows"){var _c=JSON.parse(_a);_b=new nexacro.BluetoothLEEventInfo(_c.eventid,_c.reason,_c.service_uuid,_c.message);}else{_b=new nexacro.BluetoothLEEventInfo(_a.eventid,_a.reason,_a.service_uuid,_a.message);}this._fire_onsubscriberesult(this,_b);};_pBluetoothLE._fire_onsubscriberesult=function(_a,_b){if(this.onsubscriberesult&&this.onsubscriberesult._has_handlers){return this.onsubscriberesult._fireEvent(this,_b);}return true;};_pBluetoothLE._onsuccess=function(_a){var _b;if(nexacro._OS=="Windows"){var _c=JSON.parse(_a);_b=new nexacro.BluetoothLEEventInfo(_c.eventid,_c.reason,_c.service_uuid,_c.message);}else{_b=new nexacro.BluetoothLEEventInfo(_a.eventid,_a.reason,_a.service_uuid,_a.message);}this._fire_onsuccess(this,_b);};_pBluetoothLE._fire_onsuccess=function(_a,_b){if(this.onsuccess&&this.onsuccess._has_handlers){return this.onsuccess._fireEvent(this,_b);}return true;};_pBluetoothLE._onerror=function(_a){var _b;if(nexacro._OS=="Windows"){var _c=JSON.parse(_a);_b=new nexacro.BluetoothLEErrorEventInfo(_c.eventid,_c.reason,_c.errormsg);}else{_b=new nexacro.BluetoothLEErrorEventInfo(_a.eventid,_a.reason,_a.errormsg);}this._fire_onerror(this,_b);};_pBluetoothLE._fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){return this.onerror._fireEvent(this,_b);}return true;};delete _pBluetoothLE;}if(!nexacro.BluetoothLEScanDeviceEventInfo){nexacro.BluetoothLEScanDeviceEventInfo=function(_a,_b,_c){this.eventid=_a;this.device_name=_b;this.device_address=_c;};var _pBluetoothLEScanDeviceEventInfo=nexacro.BluetoothLEScanDeviceEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.BluetoothLEScanDeviceEventInfo);_pBluetoothLEScanDeviceEventInfo._type_name="BluetoothLEScanDeviceEventInfo";delete _pBluetoothLEScanDeviceEventInfo;}if(!nexacro.BluetoothLEEventInfo){nexacro.BluetoothLEEventInfo=function(_a,_b,_c,_d){this.eventid=_a;this.reason=_b;this.service_uuid=_c;this.message=_d;};var _pBluetoothLEEventInfo=nexacro.BluetoothLEEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.BluetoothLEEventInfo);_pBluetoothLEEventInfo._type_name="BluetoothLEEventInfo";delete _pBluetoothLEEventInfo;}if(!nexacro.BluetoothLEErrorEventInfo){nexacro.BluetoothLEErrorEventInfo=function(_a,_b,_c){this.eventid=_a;this.reason=_b;this.errortype="ObjectError";this.errormsg=_c;};var _pBluetoothLEErrorEventInfo=nexacro.BluetoothLEErrorEventInfo.prototype=nexacro._createPrototype(nexacro.Event,nexacro.BluetoothLEErrorEventInfo);_pBluetoothLEErrorEventInfo._type_name="BluetoothLEErrorEventInfo";delete _pBluetoothLEErrorEventInfo;}if(nexacro._Browser=="Runtime"){if(nexacro._OS=="Windows"){nexacro._createBluetoothLEConnectionObject=function(_a){return nexacro.__createBluetoothLEObject(_a,_a.on_success,_a._onconnect,_a._onservicediscovered,_a.on_error,_a._oncharacteristicchanged);};nexacro._destroyBluetoothLEConnectionObject=function(_a){};}else if(nexacro._OS=="Android"||nexacro._OS=="OSX"){nexacro._createBluetoothLEConnectionObject=function(_a){};nexacro._destroyBluetoothLEConnectionObject=function(_a){};}}else{if((nexacro._OS=="iOS"||nexacro._OS=="Android")&&nexacro._isHybrid&&nexacro._isHybrid()){nexacro._createBluetoothLEConnectionObject=function(_a){};nexacro._destroyBluetoothLEConnectionObject=function(_a){};}}if(!nexacro.TCPClientSocket){if(nexacro._Browser=="Runtime"&&(nexacro._OS=="Windows"||nexacro._OS=="Android"||nexacro._OS=="OSX")){nexacro._createTCPClientSocket=function(_a,_b,_c){return nexacro.__createTCPClientSocket(_a,_b,_c);};nexacro._destroyTCPClientSocket=function(_a){return nexacro.__destroyTCPClientSocket(_a);};nexacro._openTCPClientSocket=function(_a,_b,_c){return nexacro.__openTCPClientSocket(_a,_b,_c);};nexacro._closeTCPClientSocket=function(_a){return nexacro.__closeTCPClientSocket(_a);};nexacro._readTCPClientSocket=function(_a,_b,_c,_d,_e){return nexacro.__readTCPClientSocket(_a,_b,_c,_d,_e);};nexacro._writeTCPClientSocket=function(_a,_b,_c){return nexacro.__writeTCPClientSocket(_a,_b,_c);};}else if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&nexacro._isHybrid()){nexacro._createTCPClientSocket=function(_a){var _b=nexacro.Device.makeID();nexacro.Device._userCreatedObj[_b]=_a;var _c={id:_b,div:"TCPClientSocket",method:"constructor",params:""};var _d=JSON.stringify(_c);nexacro.Device.exec(_d);return _b;};nexacro._destroyTCPClientSocket=function(_a){delete nexacro.Device._userCreatedObj[_a];var _b={id:_a,div:"TCPClientSocket",method:"destroy",params:""};var _c=JSON.stringify(_b);nexacro.Device.exec(_c);};nexacro._openTCPClientSocket=function(_a,_b,_c){if(_c&&typeof _c=='string'){_c=nexacro._toInt(_c);}var _d={host:_b,port:_c};var _e={id:_a,div:"TCPClientSocket",method:"open",params:_d};var _f=JSON.stringify(_e);var _g=nexacro.Device.exec(_f);var _h=nexacro._executeEvalStr('('+_g+')');return _h.result;};nexacro._closeTCPClientSocket=function(_a){var _b={id:_a,div:"TCPClientSocket",method:"close",params:""};var _c=JSON.stringify(_b);var _d=nexacro.Device.exec(_c,true);var _e=nexacro._executeEvalStr('('+_d+')');return _e.result;};nexacro._readTCPClientSocket=function(_a,_b,_c,_d,_e){if(_c&&typeof _c=='string'){_c=nexacro._toInt(_c);}if(_d&&typeof _d=='string'){_d=nexacro._toInt(_d);}var _f={isreadline:nexacro._toBoolean(_b),size:_c};if(_d){_f.timeout=_d;}if(_e){_f.charset=_e;}var _g={id:_a,div:"TCPClientSocket",method:"read",params:_f};var _h=JSON.stringify(_g);var _i=nexacro.Device.exec(_h,true);var _j=nexacro._executeEvalStr('('+_i+')');if(_j.data){_j.data=nexacro.Device.decodeString(_j.data);}return [_j.result,_j.data];};nexacro._writeTCPClientSocket=function(_a,_b,_c){var _d={data:nexacro.Device.encodeString(_b)};if(_c){_d.charset=_c;}var _e={id:_a,div:"TCPClientSocket",method:"write",params:_d};var _f=JSON.stringify(_e);var _g=nexacro.Device.exec(_f,true);var _h=nexacro._executeEvalStr('('+_g+')');return _h.result;};}else{nexacro._createTCPClientSocket=nexacro._emptyFn;nexacro._destroyTCPClientSocket=nexacro._emptyFn;nexacro._openTCPClientSocket=nexacro._emptyFn;nexacro._closeTCPClientSocket=nexacro._emptyFn;nexacro._readTCPClientSocket=nexacro._emptyFn;nexacro._writeTCPClientSocket=nexacro._emptyFn;}nexacro.SocketEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onsuccess";this.fromobject=this.fromreferenceobject=_a;this.reasonmsg=_c;this.reason=_d;this.bytessent=_e;this.bytesremain=_f;};var _pSocketEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.SocketEventInfo);nexacro.SocketEventInfo.prototype=_pSocketEventInfo;_pSocketEventInfo._type_name="SocketEventInfo";delete _pSocketEventInfo;_pSocketEventInfo=null;nexacro.SocketReceiveEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"ondataarrived";this.fromobject=this.fromreferenceobject=_a;this.bytesread=_c;};var _pSocketReceiveEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.SocketReceiveEventInfo);nexacro.SocketReceiveEventInfo.prototype=_pSocketReceiveEventInfo;_pSocketReceiveEventInfo._type_name="SocketReceiveEventInfo";delete _pSocketReceiveEventInfo;_pSocketReceiveEventInfo=null;nexacro.SocketErrorEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onerror";this.fromobject=this.fromreferenceobject=_a;this.errormsg=_c;this.statuscode=_d;};var _pSocketErrorEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.SocketErrorEventInfo);nexacro.SocketErrorEventInfo.prototype=_pSocketErrorEventInfo;_pSocketErrorEventInfo._type_name="SocketErrorEventInfo";delete _pSocketErrorEventInfo;_pSocketErrorEventInfo=null;nexacro.TCPClientSocket=function(_a,_b){nexacro._EventSinkObject.call(this,_a,_b);this.address="";this.port=0;this.isopen=false;this.errormsg="";this.errorcode=0;this._event_list={"ondataarrived":1,"onsuccess":1,"onerror":1};this._handle=null;this.ondataarrived=null;this.onsuccess=null;this.onerror=null;this._handle=nexacro._createTCPClientSocket(this,this.on_success,this.on_error);};var _pTCPClientSocket=nexacro.TCPClientSocket.prototype=nexacro._createPrototype(nexacro._EventSinkObject,nexacro.TCPClientSocket);_pTCPClientSocket._type_name="TCPClientSocket";_pTCPClientSocket.destroy=function(){if(this._handle){nexacro._destroyTCPClientSocket(this._handle);this.address="";this.port=0;this.errormsg="";this.errorcode=0;this.isopen=false;this._handle=null;}return true;};_pTCPClientSocket.open=function(_a,_b){if(this._handle&&_a&&(_b!=undefined)){var _c=nexacro._openTCPClientSocket(this._handle,_a,_b);if(_c){this.address=_a;this.port=_b;}return _c;}return false;};_pTCPClientSocket.close=function(){if(this._handle){return nexacro._closeTCPClientSocket(this._handle);}return false;};_pTCPClientSocket.read=function(_a,_b,_c){if(this._handle&&(_a!=undefined)){var _d=false;if(_b!=undefined&&!nexacro._isNumber(_b)){_c=_b;_b=undefined;}if(_c!=undefined&&!nexacro._isString(_c)){_c=undefined;}return nexacro._readTCPClientSocket(this._handle,_d,_a,_b,_c);}return Array(false);};_pTCPClientSocket.readLine=function(_a,_b,_c){if(this._handle&&(_a!=undefined)){var _d=true;if(_b!=undefined&&!nexacro._isNumber(_b)){_c=_b;_b=undefined;}if(_c!=undefined&&!nexacro._isString(_c)){_c=undefined;}return nexacro._readTCPClientSocket(this._handle,_d,_a,_b,_c);}return Array(false);};_pTCPClientSocket.write=function(_a,_b){if(this._handle&&(_a!=undefined)){return nexacro._writeTCPClientSocket(this._handle,_a,_b);}return false;};_pTCPClientSocket.on_success=function(_a,_b,_c,_d,_e){var _f=_a;var _g,_h;if(_f=="on_connect"){_g=1;this.isopen=true;if(this.onsuccess&&this.onsuccess._has_handlers){_h=new nexacro.SocketEventInfo(this,"onsuccess",_f,_g,undefined,undefined);return this.onsuccess._fireEvent(this,_h);}}else if(_f=="on_close"){_g=2;this.isopen=false;if(this.onsuccess&&this.onsuccess._has_handlers){_h=new nexacro.SocketEventInfo(this,"onsuccess",_f,_g,undefined,undefined);return this.onsuccess._fireEvent(this,_h);}}else if(_f=="on_send"){_g=3;if(this.onsuccess&&this.onsuccess._has_handlers){_h=new nexacro.SocketEventInfo(this,"onsuccess",_f,_g,_d,_e);return this.onsuccess._fireEvent(this,_h);}}else if(_f=="on_dataarrived"){return this.on_dataarrived(_b);}return false;};_pTCPClientSocket.on_dataarrived=function(_a){if(this.ondataarrived&&this.ondataarrived._has_handlers){var _b=new nexacro.SocketReceiveEventInfo(this,"ondataarrived",_a);return this.ondataarrived._fireEvent(this,_b);}return true;};_pTCPClientSocket.on_error=function(_a,_b){this.errormsg=_a;this.errorcode=_b;if(_b==26){this.isopen=false;}if(this.onerror&&this.onerror._has_handlers){var _c=new nexacro.SocketErrorEventInfo(this,"onerror",_a,_b);return this.onerror._fireEvent(this,_c);}return true;};if((nexacro._OS=="Android"||nexacro._OS=="iOS")&&nexacro._isHybrid()){_pTCPClientSocket.fire_onsuccess=function(_a){var _b;if(nexacro._OS=="iOS"){_b=nexacro._executeGlobalEvalStr("("+_a+")");}else{_b=_a;}var _c=_b.reason;var _d=_b.arg0;var _e=_b.arg1;var _f=_b.arg2;var _g=_b.arg3;if(_c=="on_send"){_f=nexacro._toInt(_f);_g=nexacro._toInt(_g);}if(_c=="on_dataarrived"){_d=nexacro._toInt(_d);}this.on_success(_c,_d,_e,_f,_g);};_pTCPClientSocket.fire_onerror=function(_a){var _b;if(nexacro._OS=="iOS"){_b=nexacro._executeGlobalEvalStr("("+_a+")");}else{_b=_a;}var _c=_b.errorcode;var _d=_b.errormsg;this.on_error(_d,_c);};}delete _pTCPClientSocket;}